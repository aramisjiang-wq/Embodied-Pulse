# 项目全局上下文

> 每次开发前必读！记录项目当前状态，让AI知道已完成什么

---

## 项目概述

| 项目信息 | 内容 |
|---------|------|
| 项目名称 | Embodied Pulse（具身智能脉搏） |
| 当前阶段 | 开发中 |
| 技术栈 | React + TypeScript + Ant Design（前端），Node.js + Express + Prisma（后端），PostgreSQL（数据库） |
| 项目描述 | B站UP主数据追踪分析平台 + HuggingFace具身智能资源整合网站 |

---

## 技术架构

### 前端技术

- React 18 + TypeScript
- Ant Design 5.x 组件库
- React Router 6 路由管理
- Axios HTTP请求
- React Query 数据管理
- Vite 构建工具

### 后端技术

- Node.js + Express
- Prisma ORM
- PostgreSQL 数据库
- JWT 认证
- B站API 数据爬取

---

## 已完成模块

### 用户端

| 模块 | 文件路径 | 状态 | 备注 |
|------|---------|------|------|
| 首页 | /src/pages/Home.tsx | ✅完成 | 展示热门UP主、推荐资源 |
| 登录注册 | /src/pages/Login.tsx, Register.tsx | ✅完成 | JWT认证 |
| B站UP主数据 | /src/pages/Bilibili/*.tsx | ✅完成 | UP主搜索、详情、数据追踪 |
| HuggingFace资源 | /src/pages/HuggingFace/*.tsx | ✅完成 | 资源浏览、收藏、搜索 |
| 新闻公告 | /src/pages/News/*.tsx | ✅完成 | 新闻列表、详情、置顶 |
| 个人中心 | /src/pages/Profile/*.tsx | ✅完成 | 个人资料、设置 |
| 用户收藏 | /src/pages/Collection/*.tsx | ✅完成 | 收藏夹管理 |

### 管理端

| 模块 | 文件路径 | 状态 | 备注 |
|------|---------|------|------|
| 管理后台 | /admin/* | ✅完成 | 基础框架搭建 |
| UP主管理 | /admin/bilibili/* | ✅完成 | UP主数据管理 |
| 用户管理 | /admin/users/* | ✅完成 | 用户管理 |
| 新闻管理 | /admin/news/* | ✅完成 | 新闻发布、置顶 |
| 系统设置 | /admin/settings/* | ✅完成 | 系统配置 |

---

## 路由配置

### 用户端路由

| 路径 | 组件 | 状态 |
|------|------|------|
| / | HomePage | ✅完成 |
| /login | LoginPage | ✅完成 |
| /register | RegisterPage | ✅完成 |
| /bilibili | BilibiliListPage | ✅完成 |
| /bilibili/:mid | BilibiliDetailPage | ✅完成 |
| /huggingface | HuggingFaceListPage | ✅完成 |
| /huggingface/:id | HuggingFaceDetailPage | ✅完成 |
| /news | NewsListPage | ✅完成 |
| /news/:id | NewsDetailPage | ✅完成 |
| /profile | ProfilePage | ✅完成 |
| /collections | CollectionPage | ✅完成 |

### 管理端路由

| 路径 | 组件 | 状态 |
|------|------|------|
| /admin | AdminLayout | ✅完成 |
| /admin/dashboard | Dashboard | ✅完成 |
| /admin/bilibili | BilibiliManage | ✅完成 |
| /admin/users | UserManage | ✅完成 |
| /admin/news | NewsManage | ✅完成 |
| /admin/settings | SettingsManage | ✅完成 |

---

## 数据模型

### User（用户）

```typescript
interface User {
  id: string;
  email: string;
  username: string;
  password: string;
  role: 'user' | 'admin';
  avatar?: string;
  createdAt: Date;
  updatedAt: Date;
}
```

### BilibiliUP主（B站UP主）

```typescript
interface BilibiliUP {
  mid: string;
  name: string;
  face: string;
  sex: string;
  level: number;
  follow: number;
  fans: number;
  article: number;
  description?: string;
  lastUpdate: Date;
}
```

### HuggingFace资源

```typescript
interface HuggingFaceModel {
  id: string;
  name: string;
  title: string;
  likes: number;
  downloads: number;
  tags: string[];
  author: string;
  lastModified: Date;
}
```

### News（新闻公告）

```typescript
interface News {
  id: string;
  title: string;
  content: string;
  summary?: string;
  coverImage?: string;
  isTop: boolean;
  author: string;
  views: number;
  publishedAt: Date;
  createdAt: Date;
}
```

### Collection（收藏）

```typescript
interface Collection {
  id: string;
  userId: string;
  type: 'bilibili' | 'huggingface';
  targetId: string;
  createdAt: Date;
}
```

---

## 定时任务

| 任务名称 | 执行时间 | 功能 |
|---------|---------|------|
| B站数据更新 | 每小时 | 抓取UP主最新数据 |
| Cookie刷新 | 每天 | 刷新B站Cookie |
| HuggingFace数据同步 | 每天 | 同步热门模型数据 |

---

## 当前任务

- [ ] B站UP主数据页面优化
- [ ] 用户体验改进
- [ ] 性能优化

---

## 下一步计划

1. 完成当前功能优化
2. 准备生产环境部署
3. 持续迭代用户反馈功能

---

## 重要说明

1. **严格遵循开发顺序**：用户端 → 管理端，后端 → 前端
2. **颜色使用规范**：用户端和管理端所有Banner或按钮背景不允许使用紫色
3. **API规范**：遵循RESTful风格，使用标准响应格式
4. **数据库操作**：使用Prisma ORM，禁止直接操作数据库

---

## 相关文档

- [技术规格文档SPEC](../../../../02-设计/技术规格文档SPEC.md)
- [系统架构文档](../../../../02-设计/系统架构文档.md)
- [API接口文档](../../../../02-设计/API接口文档.md)
- [开发者操作手册](../../../../03-开发/开发者操作手册.md)

---

> 💡 **使用方法**：每次让AI生成新代码前，先让它阅读这个文件

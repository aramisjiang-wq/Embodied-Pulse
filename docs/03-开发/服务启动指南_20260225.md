# 服务启动指南

**产品名称**：Embodied Pulse（具身智能脉搏）  
**文档类型**：启动指南  
**创建日期**：2026-02-16  

---

## 问题诊断结果

| 检查项 | 状态 | 说明 |
|--------|------|------|
| Node.js | ❌ 未安装 | 需要安装 Node.js 20+ |
| npm | ❌ 未安装 | 随 Node.js 一起安装 |
| 前端依赖 | ❌ 未安装 | 需要运行 npm install |
| 后端依赖 | ❌ 未安装 | 需要运行 npm install |
| 端口 3000 | ❌ 无服务 | 前端未启动 |
| 端口 3001 | ❌ 无服务 | 后端未启动 |

---

## 快速启动步骤

### 第一步：安装 Node.js

**方式一：使用 Homebrew（推荐）**

```bash
# 安装 Homebrew（如果未安装）
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# 安装 Node.js
brew install node@20

# 验证安装
node --version  # 应显示 v20.x.x
npm --version   # 应显示 10.x.x
```

**方式二：使用 nvm**

```bash
# 安装 nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash

# 重新加载终端配置
source ~/.zshrc

# 安装 Node.js 20
nvm install 20
nvm use 20

# 验证安装
node --version
npm --version
```

**方式三：官网下载**

访问 https://nodejs.org/ 下载 LTS 版本（20.x）安装包

---

### 第二步：安装项目依赖

```bash
# 进入项目目录
cd "/Users/dong/Downloads/WaleHouse/01-Finance/打工-LimX（202503-至今）/Embodied Pulse"

# 安装前端依赖
cd frontend
npm install

# 安装后端依赖
cd ../backend
npm install
```

---

### 第三步：初始化数据库

```bash
# 在 backend 目录下执行
cd "/Users/dong/Downloads/WaleHouse/01-Finance/打工-LimX（202503-至今）/Embodied Pulse/backend"

# 生成 Prisma 客户端
npm run db:generate

# 初始化数据库（可选，如果需要测试数据）
npm run db:seed
```

---

### 第四步：启动服务

**终端 1 - 启动后端**

```bash
cd "/Users/dong/Downloads/WaleHouse/01-Finance/打工-LimX（202503-至今）/Embodied Pulse/backend"
npm run dev
```

**终端 2 - 启动前端**

```bash
cd "/Users/dong/Downloads/WaleHouse/01-Finance/打工-LimX（202503-至今）/Embodied Pulse/frontend"
npm run dev
```

---

### 第五步：验证服务

启动成功后，访问以下地址：

| 服务 | 地址 | 说明 |
|------|------|------|
| 用户端 | http://localhost:3000 | 前端应用 |
| 管理端 | http://localhost:3000/admin | 管理后台 |
| 后端 API | http://localhost:3001 | API 服务 |

---

## 常见问题

### Q1: 端口被占用

```bash
# 查找占用端口的进程
lsof -i :3000
lsof -i :3001

# 终止进程
kill -9 <PID>
```

### Q2: npm install 失败

```bash
# 清除缓存
npm cache clean --force

# 删除 node_modules 重新安装
rm -rf node_modules package-lock.json
npm install
```

### Q3: 数据库错误

```bash
# 删除现有数据库重新初始化
cd backend
rm -f prisma/dev-user.db prisma/dev-admin.db
npm run db:generate
npm run db:seed
```

### Q4: 环境变量问题

确保 `backend/.env` 文件存在且配置正确：

```env
NODE_ENV=development
PORT=3001
USER_DATABASE_URL="file:./prisma/dev-user.db"
ADMIN_DATABASE_URL="file:./prisma/dev-admin.db"
JWT_SECRET=dev-jwt-secret-embodied-pulse-2026-secure-key
```

---

## 项目技术栈

| 类型 | 技术 | 版本 |
|------|------|------|
| 运行时 | Node.js | 20+ |
| 前端框架 | Next.js | 14+ |
| UI 组件 | Ant Design | 5+ |
| 后端框架 | Express | 4+ |
| 数据库 | SQLite (开发) | - |
| ORM | Prisma | 5+ |

---

## 下一步

1. 服务启动成功后，访问 http://localhost:3000 查看用户端
2. 访问 http://localhost:3000/admin 进入管理端
3. 默认管理员账号：在 `backend/prisma/seed-admin.ts` 中查看

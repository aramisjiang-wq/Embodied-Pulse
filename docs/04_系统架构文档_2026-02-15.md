# Embodied Pulse 系统架构与业务流程文档

**版本**: v5.1  
**更新日期**: 2026-02-15  
**状态**: 已审核  

---

## 目录

1. [系统架构总览](#1-系统架构总览)
2. [前端页面与功能模块](#2-前端页面与功能模块)
3. [后端API路由表](#3-后端api路由表)
4. [数据模型与关系](#4-数据模型与关系)
5. [用户业务流程](#5-用户业务流程)
6. [功能优化与UX方案](#6-功能优化与ux方案)
7. [UI设计规范（极简风格）](#7-ui设计规范极简风格)

---

## 1. 系统架构总览

### 1.1 整体架构图

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              客户端层 (Client Layer)                          │
├─────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐         │
│  │   Web Browser   │    │   Mobile PWA    │    │   Admin Panel   │         │
│  │   (Next.js 14)  │    │   (Responsive)  │    │   (Next.js 14)  │         │
│  └────────┬────────┘    └────────┬────────┘    └────────┬────────┘         │
│           │                      │                      │                   │
│           └──────────────────────┼──────────────────────┘                   │
│                                  ▼                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                              网关层 (Gateway Layer)                          │
├─────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                    NGINX 反向代理 + 负载均衡                          │   │
│  │                    - SSL 终端 / 静态资源 / 请求转发                    │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                  │                                          │
│                                  ▼                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                              服务层 (Service Layer)                          │
├─────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                    Backend API (Express + TypeScript)                │   │
│  │  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐  │   │
│  │  │ 认证服务  │ │ 内容服务  │ │ 社区服务  │ │ 同步服务  │ │ 管理服务  │  │   │
│  │  │  Auth    │ │ Content  │ │Community │ │  Sync    │ │  Admin   │  │   │
│  │  └──────────┘ └──────────┘ └──────────┘ └──────────┘ └──────────┘  │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                  │                                          │
│                                  ▼                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                              数据层 (Data Layer)                             │
├─────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐         │
│  │   SQLite/PG     │    │     Redis       │    │  File Storage   │         │
│  │   (主数据库)     │    │  (缓存/队列)     │    │   (文件存储)     │         │
│  │   Prisma ORM    │    │   Bull Queue    │    │                 │         │
│  └─────────────────┘    └─────────────────┘    └─────────────────┘         │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                           外部服务层 (External Services)                     │
├─────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐  │
│  │ ArXiv   │ │ GitHub  │ │Bilibili │ │HuggingFace│ │  36kr  │ │ YouTube │  │
│  │  API    │ │  API    │ │  API    │ │   API    │ │  API   │ │  API    │  │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────────┘  │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 1.2 技术栈总览

| 层级 | 技术 | 版本 | 用途 |
|------|------|------|------|
| **前端** | Next.js | 14.2.x | React框架 (App Router) |
| | TypeScript | 5.3.x | 类型安全 |
| | Ant Design | 5.12.x | UI组件库 |
| | React Query | 5.28.x | 服务端状态管理 |
| | Zustand | 4.5.x | 客户端状态管理 |
| **后端** | Express | 4.18.x | Web框架 |
| | TypeScript | 5.3.x | 类型安全 |
| | Prisma | 5.9.x | ORM |
| | JWT | 9.0.x | 身份认证 |
| | Bull | 4.12.x | 任务队列 |
| **数据库** | SQLite | 3.44.x | 开发数据库 |
| | PostgreSQL | 15.x | 生产数据库 |
| | Redis | 7.x | 缓存/队列 |

---

## 2. 前端页面与功能模块

### 2.1 用户端页面架构

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              用户端页面结构                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                         全局布局 (Layout)                            │   │
│  │  ┌───────────────────────────────────────────────────────────────┐  │   │
│  │  │                    Header (顶部导航栏)                         │  │   │
│  │  │  Logo | 导航菜单 | 搜索 | 通知 | 用户菜单                       │  │   │
│  │  └───────────────────────────────────────────────────────────────┘  │   │
│  │  ┌─────────┐ ┌───────────────────────────────────────────────────┐  │   │
│  │  │ Sidebar │ │                                                   │  │   │
│  │  │ (侧边栏) │ │                  主内容区域                        │  │   │
│  │  │         │ │                                                   │  │   │
│  │  │ 订阅    │ │                                                   │  │   │
│  │  │ 收藏    │ │                                                   │  │   │
│  │  │ 搜索    │ │                                                   │  │   │
│  │  │ 设置    │ │                                                   │  │   │
│  │  └─────────┘ └───────────────────────────────────────────────────┘  │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                              内容模块                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐          │
│  │   Papers    │ │   Videos    │ │   Repos     │ │ HuggingFace │          │
│  │   论文模块   │ │   视频模块   │ │   仓库模块   │ │   模型模块   │          │
│  │             │ │             │ │             │ │             │          │
│  │ /papers     │ │ /videos     │ │ /repos      │ │ /huggingface│          │
│  │ /papers/[id]│ │ /videos/[id]│ │ /repos/[id] │ │ /[id]       │          │
│  └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘          │
│                                                                             │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐                          │
│  │    News     │ │    Jobs     │ │  Community  │                          │
│  │   新闻模块   │ │   招聘模块   │ │   社区模块   │                          │
│  │             │ │             │ │             │                          │
│  │ /news       │ │ /jobs       │ │ /community  │                          │
│  │             │ │ /jobs/[id]  │ │ /[id]       │                          │
│  └─────────────┘ └─────────────┘ └─────────────┘                          │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                              用户功能模块                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐          │
│  │  认证模块    │ │  订阅模块    │ │  收藏模块    │ │  个人中心    │          │
│  │             │ │             │ │             │ │             │          │
│  │ /login      │ │/subscriptions│ │ /favorites  │ │ /profile    │          │
│  │ /register   │ │ /[id]       │ │             │ │ /settings   │          │
│  │ /auth/...   │ │             │ │             │ │ /user/[id]  │          │
│  └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘          │
│                                                                             │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐                          │
│  │  搜索模块    │ │  排行榜     │ │  数据分析    │                          │
│  │             │ │             │ │             │                          │
│  │ /search     │ │ /ranking    │ │/bilibili-   │                          │
│  │             │ │             │ │ analytics   │                          │
│  └─────────────┘ └─────────────┘ └─────────────┘                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.2 页面功能清单

| 页面路径 | 页面名称 | 功能描述 | 认证要求 |
|----------|----------|----------|----------|
| `/` | 首页 | 信息流展示、发现模块、订阅模块 | 可选 |
| `/papers` | 论文列表 | 论文卡片列表、筛选、排序 | 可选 |
| `/papers/[id]` | 论文详情 | 论文完整信息、PDF链接、评论 | 可选 |
| `/videos` | 视频列表 | 视频卡片列表、筛选、排序 | 可选 |
| `/videos/[id]` | 视频详情 | 视频播放器、评论、相关推荐 | 可选 |
| `/repos` | 仓库列表 | GitHub仓库列表、筛选、排序 | 可选 |
| `/repos/[id]` | 仓库详情 | 仓库信息、README、统计 | 可选 |
| `/huggingface` | 模型列表 | HuggingFace模型列表 | 可选 |
| `/huggingface/[id]` | 模型详情 | 模型信息、下载、使用说明 | 可选 |
| `/news` | 新闻列表 | 科技新闻列表 | 可选 |
| `/jobs` | 职位列表 | 招聘信息列表、筛选 | 可选 |
| `/jobs/[id]` | 职位详情 | 职位详情、申请链接 | 可选 |
| `/community` | 社区列表 | 帖子列表、话题讨论 | 可选 |
| `/community/[id]` | 帖子详情 | 帖子内容、评论互动 | 可选 |
| `/my-community` | 我的市集 | 用户发布的帖子管理 | 必须 |
| `/login` | 登录页 | 账号密码登录 | 无 |
| `/register` | 注册页 | 用户注册（含邮箱验证） | 无 |
| `/forgot-password` | 忘记密码 | 密码找回 | 无 |
| `/reset-password` | 重置密码 | 密码重置 | 无 |
| `/page/[slug]` | 自定义页面 | 管理员创建的页面 | 可选 |
| `/profile` | 个人中心 | 用户资料、积分、等级 | 必须 |
| `/settings` | 设置页 | 账号设置、通知设置 | 必须 |
| `/user/[id]` | 用户主页 | 公开用户资料 | 可选 |
| `/favorites` | 收藏夹 | 收藏内容管理、分类 | 必须 |
| `/subscriptions` | 订阅管理 | 订阅列表、新建订阅 | 必须 |
| `/subscriptions/[id]` | 订阅详情 | 订阅匹配内容 | 必须 |
| `/search` | 全局搜索 | 跨类型搜索、筛选 | 可选 |
| `/ranking` | 排行榜 | 热门内容排行 | 可选 |
| `/bilibili-analytics` | 数据分析 | B站UP主数据分析 | 可选 |

### 2.3 管理端页面架构

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              管理端页面结构                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                         管理端布局 (Admin Layout)                    │   │
│  │  ┌───────────────────────────────────────────────────────────────┐  │   │
│  │  │                    Admin Header                               │  │   │
│  │  │  Logo | 管理菜单 | 用户信息 | 退出                             │  │   │
│  │  └───────────────────────────────────────────────────────────────┘  │   │
│  │  ┌─────────┐ ┌───────────────────────────────────────────────────┐  │   │
│  │  │ Admin   │ │                                                   │  │   │
│  │  │ Sidebar │ │                  管理内容区域                      │  │   │
│  │  │         │ │                                                   │  │   │
│  │  │ 概览    │ │                                                   │  │   │
│  │  │ 用户    │ │                                                   │  │   │
│  │  │ 内容    │ │                                                   │  │   │
│  │  │ 同步    │ │                                                   │  │   │
│  │  │ 系统    │ │                                                   │  │   │
│  │  └─────────┘ └───────────────────────────────────────────────────┘  │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                              管理功能模块                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐          │
│  │  数据概览    │ │  用户管理    │ │  管理员管理  │ │  公告管理    │          │
│  │             │ │             │ │             │ │             │          │
│  │ /admin      │ │/admin/users │ │/admin/admins│ │/admin/      │          │
│  │             │ │             │ │             │ │announcements│          │
│  └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘          │
│                                                                             │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐          │
│  │  内容管理    │ │  论文管理    │ │  视频管理    │ │  仓库管理    │          │
│  │             │ │             │ │             │ │             │          │
│  │/admin/      │ │/admin/      │ │/admin/      │ │/admin/      │          │
│  │content      │ │content/     │ │content/     │ │content/     │          │
│  │             │ │papers       │ │videos       │ │repos        │          │
│  └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘          │
│                                                                             │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐          │
│  │  模型管理    │ │  新闻管理    │ │  职位管理    │ │  社区管理    │          │
│  │             │ │             │ │             │ │             │          │
│  │/admin/      │ │/admin/      │ │/admin/      │ │/admin/      │          │
│  │content/hf   │ │content/news │ │content/jobs │ │community    │          │
│  └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘          │
│                                                                             │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐          │
│  │  数据同步    │ │  同步队列    │ │  定时任务    │ │  数据源      │          │
│  │             │ │             │ │             │ │             │          │
│  │ /admin/sync │ │/admin/      │ │/admin/      │ │/admin/      │          │
│  │             │ │sync-queue   │ │scheduler    │ │data-sources │          │
│  └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘          │
│                                                                             │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐          │
│  │ B站UP主     │ │ B站关键词   │ │ 论文关键词   │ │ 新闻关键词   │          │
│  │             │ │             │ │             │ │             │          │
│  │/admin/      │ │/admin/      │ │/admin/      │ │/admin/      │          │
│  │bilibili-    │ │bilibili-    │ │paper-       │ │news-        │          │
│  │uploaders    │ │search-      │ │search-      │ │search-      │          │
│  │             │ │keywords     │ │keywords     │ │keywords     │          │
│  └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘          │
│                                                                             │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐          │
│  │  Cookie管理  │ │  首页模块    │ │  Banner管理  │ │  页面管理    │          │
│  │             │ │             │ │             │ │             │          │
│  │/admin/      │ │/admin/      │ │/admin/      │ │/admin/      │          │
│  │cookies      │ │home-modules │ │banners      │ │pages        │          │
│  │             │ │             │ │             │ │             │          │
│  └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘          │
│                                                                             │
│  ┌─────────────┐ ┌─────────────┐                                          │
│  │  社区配置    │ │  数据统计    │                                          │
│  │             │ │             │                                          │
│  │/admin/      │ │/admin/      │                                          │
│  │community-   │ │stats        │                                          │
│  │config       │ │             │                                          │
│  └─────────────┘ └─────────────┘                                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 3. 后端API路由表

### 3.1 公开API (无需认证)

| 方法 | 路径 | 功能描述 | 备注 |
|------|------|----------|------|
| **认证相关** |
| POST | `/api/auth/register` | 用户注册（含邮箱验证） | - |
| POST | `/api/auth/login` | 用户登录 | 返回JWT |
| POST | `/api/auth/refresh` | 刷新Token | - |
| POST | `/api/email-verification/send` | 发送邮箱验证码 | - |
| POST | `/api/email-verification/verify` | 验证邮箱验证码 | - |
| POST | `/api/password-reset/request` | 请求密码重置 | - |
| POST | `/api/password-reset/confirm` | 确认密码重置 | - |
| **内容浏览** |
| GET | `/api/feed` | 首页信息流 | 可选认证 |
| GET | `/api/papers` | 论文列表 | 分页、筛选 |
| GET | `/api/papers/:id` | 论文详情 | - |
| GET | `/api/videos` | 视频列表 | 分页、筛选 |
| GET | `/api/videos/:id` | 视频详情 | - |
| GET | `/api/repos` | 仓库列表 | 分页、筛选 |
| GET | `/api/repos/:id` | 仓库详情 | - |
| GET | `/api/huggingface` | 模型列表 | 分页、筛选 |
| GET | `/api/huggingface/:id` | 模型详情 | - |
| GET | `/api/news` | 新闻列表 | 分页、筛选 |
| GET | `/api/jobs` | 职位列表 | 分页、筛选 |
| GET | `/api/jobs/:id` | 职位详情 | - |
| **社区功能** |
| GET | `/api/posts` | 帖子列表 | 可选认证 |
| GET | `/api/posts/:id` | 帖子详情 | - |
| GET | `/api/comments` | 评论列表 | - |
| GET | `/api/community` | 社区内容 | - |
| **自定义页面** |
| GET | `/api/pages` | 页面列表 | - |
| GET | `/api/pages/slug/:slug` | 根据 slug 获取页面 | - |
| **其他功能** |
| GET | `/api/search` | 全局搜索 | 跨类型搜索 |
| GET | `/api/stats` | 统计数据 | 公开统计 |
| GET | `/api/banners` | Banner列表 | - |
| GET | `/api/announcements` | 公告列表 | - |
| GET | `/api/home-modules` | 首页模块 | - |
| GET | `/api/ranking` | 排行榜 | - |
| GET | `/api/discovery` | 发现内容 | - |
| GET | `/api/proxy/image` | 图片代理 | 绕过防盗链 |

### 3.2 用户API (需要认证)

| 方法 | 路径 | 功能描述 | 认证 |
|------|------|----------|------|
| **用户资料** |
| GET | `/api/user/profile` | 获取个人资料 | 必须 |
| PUT | `/api/user/profile` | 更新个人资料 | 必须 |
| PUT | `/api/user/password` | 修改密码 | 必须 |
| GET | `/api/users/:id` | 公开用户资料 | 可选 |
| **收藏功能** |
| GET | `/api/favorites` | 收藏列表 | 必须 |
| POST | `/api/favorites` | 添加收藏 | 必须 |
| DELETE | `/api/favorites/:id` | 取消收藏 | 必须 |
| **订阅功能** |
| GET | `/api/subscriptions` | 订阅列表 | 必须 |
| POST | `/api/subscriptions` | 创建订阅 | 必须 |
| PUT | `/api/subscriptions/:id` | 更新订阅 | 必须 |
| DELETE | `/api/subscriptions/:id` | 删除订阅 | 必须 |
| **通知功能** |
| GET | `/api/notifications` | 通知列表 | 必须 |
| PUT | `/api/notifications/:id/read` | 标记已读 | 必须 |
| PUT | `/api/notifications/read-all` | 全部已读 | 必须 |
| **社区互动** |
| POST | `/api/posts` | 发布帖子 | 必须 |
| PUT | `/api/posts/:id` | 更新帖子 | 必须 |
| DELETE | `/api/posts/:id` | 删除帖子 | 必须 |
| POST | `/api/posts/:id/like` | 点赞帖子 | 必须 |
| POST | `/api/comments` | 发表评论 | 必须 |
| DELETE | `/api/comments/:id` | 删除评论 | 必须 |
| **分析功能** |
| GET | `/api/analytics` | 用户分析数据 | 必须 |

### 3.3 管理端API (需要管理员权限)

| 方法 | 路径 | 功能描述 | 权限 |
|------|------|----------|------|
| **管理员认证** |
| GET | `/api/admin/me` | 当前管理员信息 | admin |
| POST | `/api/admin/login` | 管理员登录 | - |
| **用户管理** |
| GET | `/api/admin/users` | 用户列表 | admin |
| PUT | `/api/admin/users/:id` | 更新用户 | admin |
| DELETE | `/api/admin/users/:id` | 删除用户 | admin |
| GET | `/api/admin/admins` | 管理员列表 | super_admin |
| POST | `/api/admin/admins` | 创建管理员 | super_admin |
| **内容管理** |
| GET | `/api/admin/content/papers` | 论文管理 | admin |
| PUT | `/api/admin/content/papers/:id` | 更新论文 | admin |
| DELETE | `/api/admin/content/papers/:id` | 删除论文 | admin |
| GET | `/api/admin/content/videos` | 视频管理 | admin |
| GET | `/api/admin/content/repos` | 仓库管理 | admin |
| GET | `/api/admin/content/huggingface` | 模型管理 | admin |
| GET | `/api/admin/content/news` | 新闻管理 | admin |
| GET | `/api/admin/content/jobs` | 职位管理 | admin |
| **数据同步** |
| POST | `/api/admin/sync/arxiv` | 同步ArXiv | admin |
| POST | `/api/admin/sync/github` | 同步GitHub | admin |
| POST | `/api/admin/sync/bilibili` | 同步B站 | admin |
| POST | `/api/admin/sync/huggingface` | 同步HF | admin |
| POST | `/api/admin/sync/news` | 同步新闻 | admin |
| POST | `/api/admin/sync/jobs` | 同步职位 | admin |
| GET | `/api/admin/sync/status` | 同步状态 | admin |
| **配置管理** |
| GET | `/api/admin/bilibili-uploaders` | B站UP主配置 | admin |
| POST | `/api/admin/bilibili-uploaders` | 添加UP主 | admin |
| GET | `/api/admin/bilibili-search-keywords` | B站关键词 | admin |
| GET | `/api/admin/paper-search-keywords` | 论文关键词 | admin |
| GET | `/api/admin/news-search-keywords` | 新闻关键词 | admin |
| GET | `/api/admin/data-sources` | 数据源配置 | admin |
| GET | `/api/admin/scheduler` | 定时任务 | admin |
| GET | `/api/admin/sync-queue` | 同步队列 | admin |
| GET | `/api/admin/cookies` | Cookie管理 | admin |
| GET | `/api/admin/home-modules` | 首页模块 | admin |
| GET | `/api/admin/banners` | Banner管理 | admin |
| GET | `/api/admin/community-config` | 社区配置 | admin |
| **自定义页面管理** |
| GET | `/api/admin/pages` | 页面列表 | admin |
| POST | `/api/admin/pages` | 创建页面 | admin |
| PUT | `/api/admin/pages/:id` | 更新页面 | admin |
| DELETE | `/api/admin/pages/:id` | 删除页面 | admin |
| **系统监控** |
| GET | `/api/admin/stats` | 系统统计 | admin |
| GET | `/api/admin/db-pool` | 数据库连接池 | admin |
| GET | `/api/admin/cache` | 缓存管理 | admin |
| GET | `/api/admin/queues` | 队列管理 | admin |

---

## 4. 数据模型与关系

### 4.1 核心数据模型

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              数据模型关系图                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────┐       ┌─────────────┐       ┌─────────────┐              │
│  │    User     │       │    Post     │       │   Comment   │              │
│  ├─────────────┤       ├─────────────┤       ├─────────────┤              │
│  │ id          │───┐   │ id          │───┐   │ id          │              │
│  │ username    │   │   │ userId (FK) │   │   │ userId (FK) │──┐           │
│  │ email       │   │   │ title       │   │   │ postId (FK) │  │           │
│  │ passwordHash│   │   │ content     │   │   │ content     │  │           │
│  │ avatarUrl   │   │   │ viewCount   │   │   │ likeCount   │  │           │
│  │ level       │   │   │ likeCount   │   │   │ createdAt   │  │           │
│  │ points      │   │   │ status      │   │   └─────────────┘  │           │
│  │ role        │   │   │ createdAt   │   │          ▲         │           │
│  └─────────────┘   │   └─────────────┘   │          │         │           │
│        │           │          │          │          └─────────┘           │
│        │           │          │          │                                │
│        ▼           │          ▼          │                                │
│  ┌─────────────┐   │   ┌─────────────┐   │                                │
│  │ Subscription│   │   │   Favorite  │   │                                │
│  ├─────────────┤   │   ├─────────────┤   │                                │
│  │ id          │   │   │ id          │   │                                │
│  │ userId (FK) │───┘   │ userId (FK) │───┘                                │
│  │ contentType │       │ contentType │                                    │
│  │ keywords    │       │ contentId   │                                    │
│  │ tags        │       │ createdAt   │                                    │
│  │ isActive    │       └─────────────┘                                    │
│  │ newCount    │                                                          │
│  └─────────────┘                                                          │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                              内容数据模型                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐          │
│  │    Paper    │ │    Video    │ │  GithubRepo │ │ HFModel     │          │
│  ├─────────────┤ ├─────────────┤ ├─────────────┤ ├─────────────┤          │
│  │ id          │ │ id          │ │ id          │ │ id          │          │
│  │ arxivId     │ │ bvid        │ │ repoId      │ │ fullName    │          │
│  │ title       │ │ title       │ │ fullName    │ │ name        │          │
│  │ authors     │ │ description │ │ description │ │ description │          │
│  │ abstract    │ │ coverUrl    │ │ starsCount  │ │ downloads   │          │
│  │ pdfUrl      │ │ duration    │ │ forksCount  │ │ likes       │          │
│  │ citationCnt │ │ playCount   │ │ language    │ │ task        │          │
│  │ viewCount   │ │ uploader    │ │ viewCount   │ │ author      │          │
│  │ publishedDt │ │ publishedDt │ │ updatedDate │ │ lastModified│          │
│  └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘          │
│                                                                             │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐                          │
│  │    News     │ │     Job     │ │   Banner    │                          │
│  ├─────────────┤ ├─────────────┤ ├─────────────┤                          │
│  │ id          │ │ id          │ │ id          │                          │
│  │ platform    │ │ title       │ │ title       │                          │
│  │ title       │ │ company     │ │ description │                          │
│  │ url         │ │ location    │ │ imageUrl    │                          │
│  │ description │ │ salaryMin   │ │ linkUrl     │                          │
│  │ publishedDt │ │ salaryMax   │ │ order       │                          │
│  │ viewCount   │ │ description │ │ isActive    │                          │
│  └─────────────┘ │ requirements│ └─────────────┘                          │
│                  │ applyUrl    │                                          │
│                  └─────────────┘                                          │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                              认证相关模型                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────┐       ┌─────────────────────┐                    │
│  │ EmailVerification   │       │   PasswordReset     │                    │
│  ├─────────────────────┤       ├─────────────────────┤                    │
│  │ id                  │       │ id                  │                    │
│  │ email               │       │ email               │                    │
│  │ code                │       │ token               │                    │
│  │ type                │       │ expiresAt           │                    │
│  │ expiresAt           │       │ used                │                    │
│  │ used                │       │ createdAt           │                    │
│  │ createdAt           │       └─────────────────────┘                    │
│  └─────────────────────┘                                                  │
│                                                                             │
│  ┌─────────────────────┐                                                  │
│  │    CustomPage       │                                                  │
│  ├─────────────────────┤                                                  │
│  │ id                  │                                                  │
│  │ title               │                                                  │
│  │ slug                │                                                  │
│  │ content             │                                                  │
│  │ isActive            │                                                  │
│  │ sortOrder           │                                                  │
│  │ createdAt           │                                                  │
│  │ updatedAt           │                                                  │
│  └─────────────────────┘                                                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 4.2 数据表统计

| 模块 | 数据表 | 主要字段数 | 索引数 |
|------|--------|-----------|--------|
| 用户 | User | 18 | 3 |
| 论文 | Paper | 13 | 4 |
| 视频 | Video | 15 | 4 |
| 仓库 | GithubRepo | 16 | 4 |
| 模型 | HuggingFaceModel | 14 | 2 |
| 新闻 | news | 10 | 4 |
| 职位 | Job | 15 | 3 |
| 帖子 | Post | 14 | 3 |
| 评论 | Comment | 8 | 3 |
| 收藏 | Favorite | 6 | 3 |
| 订阅 | Subscription | 16 | 4 |
| 邮箱验证 | EmailVerification | 7 | 2 |
| 密码重置 | PasswordReset | 6 | 2 |
| 自定义页面 | CustomPage | 8 | 1 |

---

## 5. 用户业务流程

### 5.1 新用户注册流程

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              新用户注册流程                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────┐     ┌─────────┐     ┌─────────┐     ┌─────────┐              │
│  │ 访问首页 │────▶│ 浏览内容 │────▶│ 点击登录 │────▶│ 选择注册 │              │
│  └─────────┘     └─────────┘     └─────────┘     └─────────┘              │
│                                                        │                   │
│                                                        ▼                   │
│  ┌─────────┐     ┌─────────┐     ┌─────────┐     ┌─────────┐              │
│  │ 开始使用 │◀────│ 自动登录 │◀────│ 注册成功 │◀────│ 邮箱验证 │              │
│  └─────────┘     └─────────┘     └─────────┘     └─────────┘              │
│       │                                     ▲                             │
│       │                                     │                             │
│       │                              ┌─────────┐                          │
│       │                              │ 输入验证码│                         │
│       │                              └─────────┘                          │
│       │                                     ▲                             │
│       │                                     │                             │
│       │                              ┌─────────┐                          │
│       │                              │ 发送验证码│                         │
│       │                              └─────────┘                          │
│       │                                     ▲                             │
│       │                                     │                             │
│       │                              ┌─────────┐                          │
│       │                              │ 填写邮箱 │                          │
│       │                              └─────────┘                          │
│       │                                                                     │
│       ▼                                                                     │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                         首次使用引导                                 │   │
│  │  1. 完善个人资料 (可选)                                               │   │
│  │  2. 选择感兴趣的主题 (推荐订阅)                                       │   │
│  │  3. 浏览推荐内容                                                      │   │
│  │  4. 尝试收藏/订阅功能                                                 │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 5.2 密码找回流程

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              密码找回流程                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────┐     ┌─────────┐     ┌─────────┐     ┌─────────┐              │
│  │ 点击登录 │────▶│ 忘记密码 │────▶│ 输入邮箱 │────▶│ 发送邮件 │              │
│  └─────────┘     └─────────┘     └─────────┘     └─────────┘              │
│                                                        │                   │
│                                                        ▼                   │
│  ┌─────────┐     ┌─────────┐     ┌─────────┐     ┌─────────┐              │
│  │ 登录成功 │◀────│ 使用新密码│◀────│ 设置新密码│◀────│ 点击链接 │              │
│  └─────────┘     └─────────┘     └─────────┘     └─────────┘              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 5.3 内容浏览流程

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              内容浏览流程                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                           首页入口                                   │   │
│  │  ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐          │   │
│  │  │ 信息流浏览 │ │ 分类导航  │ │ 搜索入口  │ │ 推荐内容  │          │   │
│  │  └─────┬─────┘ └─────┬─────┘ └─────┬─────┘ └─────┬─────┘          │   │
│  └────────┼─────────────┼─────────────┼─────────────┼─────────────────┘   │
│           │             │             │             │                     │
│           ▼             ▼             ▼             ▼                     │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                           内容列表页                                 │   │
│  │  ┌─────────────────────────────────────────────────────────────┐   │   │
│  │  │  筛选栏: 分类 | 时间 | 排序 | 来源                            │   │   │
│  │  └─────────────────────────────────────────────────────────────┘   │   │
│  │  ┌─────────────────────────────────────────────────────────────┐   │   │
│  │  │  内容卡片列表 (无限滚动加载)                                   │   │   │
│  │  │  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐                    │   │   │
│  │  │  │卡片1│ │卡片2│ │卡片3│ │卡片4│ │卡片5│                    │   │   │
│  │  │  └─────┘ └─────┘ └─────┘ └─────┘ └─────┘                    │   │   │
│  │  └─────────────────────────────────────────────────────────────┘   │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                   │                                         │
│                                   ▼                                         │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                           内容详情页                                 │   │
│  │  ┌───────────────────────────────────────────────────────────────┐ │   │
│  │  │  内容主体: 标题 | 作者 | 时间 | 正文/摘要 | 相关链接            │ │   │
│  │  └───────────────────────────────────────────────────────────────┘ │   │
│  │  ┌───────────────────────────────────────────────────────────────┐ │   │
│  │  │  互动区域: 收藏 | 分享 | 评论 | 点赞                            │ │   │
│  │  └───────────────────────────────────────────────────────────────┘ │   │
│  │  ┌───────────────────────────────────────────────────────────────┐ │   │
│  │  │  相关推荐: 相似内容 | 同作者内容 | 热门内容                      │ │   │
│  │  └───────────────────────────────────────────────────────────────┘ │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 5.4 订阅与通知流程

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              订阅与通知流程                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                           创建订阅                                   │   │
│  │  ┌─────────┐     ┌─────────┐     ┌─────────┐     ┌─────────┐      │   │
│  │  │ 选择类型 │────▶│ 设置条件 │────▶│ 配置通知 │────▶│ 保存订阅 │      │   │
│  │  │论文/视频│     │关键词/标签│     │推送/邮件 │     │         │      │   │
│  │  └─────────┘     └─────────┘     └─────────┘     └─────────┘      │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                   │                                         │
│                                   ▼                                         │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                           后台同步                                   │   │
│  │  ┌─────────────────────────────────────────────────────────────┐   │   │
│  │  │  定时任务 (每小时/每天)                                        │   │   │
│  │  │  1. 抓取外部数据源新内容                                       │   │   │
│  │  │  2. 匹配用户订阅条件                                           │   │   │
│  │  │  3. 生成通知记录                                               │   │   │
│  │  │  4. 更新订阅统计                                               │   │   │
│  │  └─────────────────────────────────────────────────────────────┘   │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                   │                                         │
│                                   ▼                                         │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                           用户通知                                   │   │
│  │  ┌─────────────────────────────────────────────────────────────┐   │   │
│  │  │  通知中心 (Header图标)                                         │   │   │
│  │  │  - 未读数量徽标                                                │   │   │
│  │  │  - 通知列表弹窗                                                │   │   │
│  │  │  - 点击跳转到对应内容                                          │   │   │
│  │  └─────────────────────────────────────────────────────────────┘   │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 5.5 社区互动流程

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              社区互动流程                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                           发布内容                                   │   │
│  │  ┌─────────┐     ┌─────────┐     ┌─────────┐     ┌─────────┐      │   │
│  │  │ 点击发布 │────▶│ 选择类型 │────▶│ 编辑内容 │────▶│ 发布帖子 │      │   │
│  │  │         │     │讨论/分享│     │文本/图片 │     │         │      │   │
│  │  └─────────┘     └─────────┘     └─────────┘     └─────────┘      │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                   │                                         │
│                                   ▼                                         │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                           互动参与                                   │   │
│  │  ┌───────────────────────────────────────────────────────────────┐ │   │
│  │  │  浏览帖子 ──▶ 点赞 ──▶ 评论 ──▶ 分享                          │ │   │
│  │  │     │                    │                                     │ │   │
│  │  │     ▼                    ▼                                     │ │   │
│  │  │  查看作者主页        回复他人评论                                │ │   │
│  │  │     │                    │                                     │ │   │
│  │  │     ▼                    ▼                                     │ │   │
│  │  │  关注作者           建立互动关系                                 │ │   │
│  │  └───────────────────────────────────────────────────────────────┘ │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                   │                                         │
│                                   ▼                                         │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                           内容管理                                   │   │
│  │  ┌───────────────────────────────────────────────────────────────┐ │   │
│  │  │  我的市集 (/my-community)                                      │ │   │
│  │  │  - 查看已发布帖子                                              │ │   │
│  │  │  - 编辑/删除帖子                                               │ │   │
│  │  │  - 查看互动数据                                                │ │   │
│  │  └───────────────────────────────────────────────────────────────┘ │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 6. 功能优化与UX方案

### 6.1 当前痛点分析

| 痛点 | 描述 | 影响 | 优先级 |
|------|------|------|--------|
| 首页信息流不够直观 | 内容类型混合展示，用户难以快速找到感兴趣的内容 | 用户流失 | 高 |
| 搜索功能较弱 | 缺乏智能搜索建议、搜索结果排序不够精准 | 效率低下 | 高 |
| 订阅功能复杂 | 创建订阅步骤多，条件设置不够直观 | 使用率低 | 中 |
| 社区活跃度低 | 缺乏激励机制，用户参与度不高 | 社区冷清 | 中 |
| 移动端体验欠佳 | 部分页面在移动端显示不够友好 | 移动用户流失 | 中 |
| 内容推荐不精准 | 缺乏个性化推荐算法 | 用户粘性低 | 低 |

### 6.2 功能优化方案

#### 6.2.1 首页重构方案

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              新首页设计方案                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  顶部区域                                                            │   │
│  │  ┌─────────────────────────────────────────────────────────────┐   │   │
│  │  │  [Logo] Embodied Pulse          [搜索框...]    [登录] [注册] │   │   │
│  │  └─────────────────────────────────────────────────────────────┘   │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  快捷导航 (Tab式)                                                    │   │
│  │  ┌────────┬────────┬────────┬────────┬────────┬────────┐          │   │
│  │  │  全部  │  论文  │  视频  │  代码  │  模型  │  招聘  │          │   │
│  │  └────────┴────────┴────────┴────────┴────────┴────────┘          │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  内容区域 (双栏布局)                                                 │   │
│  │  ┌─────────────────────────────────┬───────────────────────────┐   │   │
│  │  │                                 │                           │   │   │
│  │  │     信息流 (主内容区)            │    侧边栏                  │   │   │
│  │  │     - 个性化推荐                 │    - 我的订阅              │   │   │
│  │  │     - 最新更新                   │    - 热门话题              │   │   │
│  │  │     - 热门内容                   │    - 活跃用户              │   │   │
│  │  │                                 │    - 系统公告              │   │   │
│  │  │                                 │                           │   │   │
│  │  └─────────────────────────────────┴───────────────────────────┘   │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

**优化要点**:
1. 简化导航结构，使用Tab式快捷切换
2. 信息流支持按类型筛选
3. 侧边栏展示个性化内容
4. 搜索框突出显示，支持快捷搜索

#### 6.2.2 搜索增强方案

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              搜索增强方案                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  搜索框增强                                                          │   │
│  │  ┌─────────────────────────────────────────────────────────────┐   │   │
│  │  │  🔍 [搜索论文、视频、代码、模型...]                    [搜索] │   │   │
│  │  └─────────────────────────────────────────────────────────────┘   │   │
│  │  ┌─────────────────────────────────────────────────────────────┐   │   │
│  │  │  热门搜索: 具身智能 | 强化学习 | 机器人控制 | 视觉导航        │   │   │
│  │  └─────────────────────────────────────────────────────────────┘   │   │
│  │  ┌─────────────────────────────────────────────────────────────┐   │   │
│  │  │  搜索建议 (输入时实时显示)                                    │   │   │
│  │  │  - 论文: "Embodied AI..."                                    │   │   │
│  │  │  - 作者: "张三"                                              │   │   │
│  │  │  - 标签: #强化学习                                           │   │   │
│  │  └─────────────────────────────────────────────────────────────┘   │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  搜索结果页                                                          │   │
│  │  ┌─────────────────────────────────────────────────────────────┐   │   │
│  │  │  筛选: [全部▼] [论文] [视频] [代码] [模型] [帖子]            │   │   │
│  │  │  排序: [相关度▼] [最新] [最热]                               │   │   │
│  │  └─────────────────────────────────────────────────────────────┘   │   │
│  │  ┌─────────────────────────────────────────────────────────────┐   │   │
│  │  │  搜索结果列表 (按类型分组显示)                                │   │   │
│  │  │  ┌─────────────────────────────────────────────────────┐   │   │   │
│  │  │  │ 📄 论文 (15条)                                       │   │   │   │
│  │  │  │   - Learning to Walk via Deep RL...                 │   │   │   │
│  │  │  │   - Embodied Intelligence: A Survey...              │   │   │   │
│  │  │  └─────────────────────────────────────────────────────┘   │   │   │
│  │  │  ┌─────────────────────────────────────────────────────┐   │   │   │
│  │  │  │ 🎬 视频 (8条)                                        │   │   │   │
│  │  │  │   - 具身智能入门教程                                  │   │   │   │
│  │  │  │   - 机器人强化学习实战                                │   │   │   │
│  │  │  └─────────────────────────────────────────────────────┘   │   │   │
│  │  └─────────────────────────────────────────────────────────────┘   │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

#### 6.2.3 订阅简化方案

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              订阅简化方案                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  快速订阅 (从内容详情页)                                              │   │
│  │  ┌─────────────────────────────────────────────────────────────┐   │   │
│  │  │  [订阅类似内容] ──▶ 弹出快捷订阅面板                          │   │   │
│  │  │  ┌─────────────────────────────────────────────────────┐   │   │   │
│  │  │  │ 订阅设置                                             │   │   │   │
│  │  │  │ ─────────────────────────────────────────────────── │   │   │   │
│  │  │  │ 订阅类型: ○ 论文  ○ 视频  ○ 代码  ○ 模型            │   │   │   │
│  │  │  │                                                     │   │   │   │
│  │  │  │ 关键词: [具身智能] [强化学习] [+添加]                │   │   │   │
│  │  │  │                                                     │   │   │   │
│  │  │  │ 通知方式: ☑ 站内通知  ☐ 邮件通知                    │   │   │   │
│  │  │  │                                                     │   │   │   │
│  │  │  │           [取消]  [确认订阅]                        │   │   │   │
│  │  │  └─────────────────────────────────────────────────────┘   │   │   │
│  │  └─────────────────────────────────────────────────────────────┘   │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  智能推荐订阅                                                        │   │
│  │  ┌─────────────────────────────────────────────────────────────┐   │   │
│  │  │  根据您的浏览历史，推荐以下订阅:                              │   │   │
│  │  │  ┌───────────┐ ┌───────────┐ ┌───────────┐                │   │   │
│  │  │  │ 强化学习  │ │ 机器人控制 │ │ 视觉导航  │                │   │   │
│  │  │  │ 论文 128篇│ │ 视频 56个 │ │ 代码 23个 │                │   │   │
│  │  │  │ [+订阅]  │ │ [+订阅]  │ │ [+订阅]  │                │   │   │
│  │  │  └───────────┘ └───────────┘ └───────────┘                │   │   │
│  │  └─────────────────────────────────────────────────────────────┘   │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 6.3 新功能建议

| 功能 | 描述 | 价值 | 优先级 |
|------|------|------|--------|
| **智能推荐** | 基于用户行为分析，提供个性化内容推荐 | 提升用户粘性 | 高 |
| **阅读历史** | 记录用户浏览历史，方便回溯 | 提升效率 | 高 |
| **内容收藏夹** | 支持创建多个收藏夹，分类管理收藏内容 | 提升组织性 | 中 |
| **用户关注** | 关注感兴趣的用户，查看其动态 | 增强社交属性 | 中 |
| **内容标签** | 为内容添加标签，方便分类和检索 | 提升可发现性 | 中 |
| **RSS导出** | 支持订阅内容导出为RSS格式 | 方便外部工具集成 | 低 |
| **API开放** | 提供公开API，支持第三方集成 | 扩展生态 | 低 |

---

## 7. UI设计规范（极简风格）

### 7.1 设计原则

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              极简设计原则                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  1. 内容优先 (Content First)                                                │
│     - 减少装饰性元素                                                        │
│     - 突出核心内容                                                          │
│     - 避免视觉干扰                                                          │
│                                                                             │
│  2. 清晰层次 (Clear Hierarchy)                                              │
│     - 使用字号、字重区分层级                                                │
│     - 合理的留白                                                            │
│     - 明确的视觉引导                                                        │
│                                                                             │
│  3. 一致性 (Consistency)                                                    │
│     - 统一的组件样式                                                        │
│     - 一致的交互模式                                                        │
│     - 标准化的间距系统                                                      │
│                                                                             │
│  4. 高效交互 (Efficient Interaction)                                        │
│     - 减少操作步骤                                                          │
│     - 提供快捷入口                                                          │
│     - 即时反馈                                                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 7.2 色彩规范

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              色彩系统                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  主色调 (Primary)                                                           │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  #1890FF  主色 - 用于主要按钮、链接、选中状态                         │   │
│  │  ████████                                                            │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  中性色 (Neutral)                                                           │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  #262626  标题文字                                                   │   │
│  │  #595959  正文文字                                                   │   │
│  │  #8C8C8C  辅助文字                                                   │   │
│  │  #BFBFBF  禁用文字                                                   │   │
│  │  #F0F0F0  分割线                                                     │   │
│  │  #FAFAFA  背景色                                                     │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  功能色 (Functional)                                                        │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  #52C41A  成功 - 成功状态                                            │   │
│  │  #FAAD14  警告 - 警告状态                                            │   │
│  │  #FF4D4F  错误 - 错误状态                                            │   │
│  │  #1890FF  信息 - 信息提示                                            │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 7.3 字体规范

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              字体系统                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  字体家族                                                                   │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  主字体: "Inter", "SF Pro Display", -apple-system, sans-serif        │   │
│  │  代码字体: "SF Mono", "Fira Code", monospace                         │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  字号层级                                                                   │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  H1 标题:    24px / 32px 行高  (页面主标题)                          │   │
│  │  H2 标题:    20px / 28px 行高  (模块标题)                            │   │
│  │  H3 标题:    16px / 24px 行高  (卡片标题)                            │   │
│  │  正文:       14px / 22px 行高  (主要内容)                            │   │
│  │  辅助文字:   12px / 20px 行高  (说明、时间等)                         │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  字重规范                                                                   │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  600 (Semibold) - 标题、强调                                         │   │
│  │  500 (Medium)   - 按钮文字                                           │   │
│  │  400 (Regular)  - 正文                                               │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 7.4 间距规范

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              间距系统                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  基础单位: 4px                                                              │
│                                                                             │
│  间距层级                                                                   │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  xs:  4px   - 图标与文字间距                                         │   │
│  │  sm:  8px   - 紧凑元素间距                                           │   │
│  │  md:  16px  - 标准间距                                               │   │
│  │  lg:  24px  - 模块间距                                               │   │
│  │  xl:  32px  - 区块间距                                               │   │
│  │  xxl: 48px  - 页面边距                                               │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  应用示例                                                                   │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  ┌─────────────────────────────────────────────────────────────┐   │   │
│  │  │  卡片内边距: 16px (md)                                        │   │   │
│  │  │  卡片间距: 24px (lg)                                          │   │   │
│  │  │  页面边距: 24px (lg)                                          │   │   │
│  │  │  按钮内边距: 8px 16px (sm md)                                 │   │   │
│  │  └─────────────────────────────────────────────────────────────┘   │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 7.5 组件规范

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              组件规范                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  按钮规范                                                                   │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  主要按钮:                                                           │   │
│  │  ┌────────────┐                                                      │   │
│  │  │  主要操作  │  背景: #1890FF  文字: #FFF  圆角: 6px               │   │
│  │  └────────────┘                                                      │   │
│  │                                                                      │   │
│  │  次要按钮:                                                           │   │
│  │  ┌────────────┐                                                      │   │
│  │  │  次要操作  │  边框: #D9D9D9  文字: #262626  圆角: 6px            │   │
│  │  └────────────┘                                                      │   │
│  │                                                                      │   │
│  │  文字按钮:                                                           │   │
│  │  [文字按钮]  无边框无背景  文字: #1890FF                             │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  卡片规范                                                                   │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  ┌─────────────────────────────────────────────────────────────┐   │   │
│  │  │  ┌───────────────────────────────────────────────────────┐  │   │   │
│  │  │  │  标题 (16px, 600)                                     │  │   │   │
│  │  │  │  描述 (14px, 400, #595959)                            │  │   │   │
│  │  │  │  元数据 (12px, 400, #8C8C8C)                          │  │   │   │
│  │  │  └───────────────────────────────────────────────────────┘  │   │   │
│  │  │                                                              │   │   │
│  │  │  背景: #FFF  边框: 1px #F0F0F0  圆角: 8px  阴影: 无          │   │   │
│  │  │  内边距: 16px  悬停: 边框变为 #1890FF                        │   │   │
│  │  └─────────────────────────────────────────────────────────────┘   │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  表单规范                                                                   │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  输入框:                                                             │   │
│  │  ┌─────────────────────────────────────────────────────────────┐   │   │
│  │  │  [请输入内容...]                                              │   │   │
│  │  │  高度: 40px  边框: 1px #D9D9D9  圆角: 6px                    │   │   │
│  │  │  聚焦: 边框变为 #1890FF  阴影: 0 0 0 2px rgba(24,144,255,0.2) │   │   │
│  │  └─────────────────────────────────────────────────────────────┘   │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  列表规范                                                                   │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  列表项:                                                             │   │
│  │  - 高度: 最小 48px                                                   │   │
│  │  - 内边距: 12px 16px                                                 │   │
│  │  - 分割线: 1px #F0F0F0                                               │   │
│  │  - 悬停: 背景 #FAFAFA                                                │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 7.6 响应式设计规范

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              响应式断点                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  断点定义                                                                   │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  xs:  < 576px   (手机竖屏)                                          │   │
│  │  sm:  ≥ 576px   (手机横屏/小平板)                                    │   │
│  │  md:  ≥ 768px   (平板竖屏)                                          │   │
│  │  lg:  ≥ 992px   (平板横屏/小桌面)                                    │   │
│  │  xl:  ≥ 1200px  (桌面)                                              │   │
│  │  xxl: ≥ 1600px  (大桌面)                                            │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  布局适配                                                                   │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  桌面端 (≥ 992px):                                                  │   │
│  │  - 侧边栏固定显示                                                   │   │
│  │  - 内容区双栏布局                                                   │   │
│  │  - 卡片网格: 3-4列                                                  │   │
│  │                                                                      │   │
│  │  平板端 (768px - 991px):                                            │   │
│  │  - 侧边栏可折叠                                                     │   │
│  │  - 内容区单栏布局                                                   │   │
│  │  - 卡片网格: 2列                                                    │   │
│  │                                                                      │   │
│  │  移动端 (< 768px):                                                  │   │
│  │  - 侧边栏隐藏 (汉堡菜单)                                            │   │
│  │  - 内容区单栏布局                                                   │   │
│  │  - 卡片网格: 1列                                                    │   │
│  │  - 底部导航栏                                                       │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 附录

### A. 技术债务清单

| 项目 | 描述 | 优先级 | 状态 |
|------|------|--------|------|
| Hydration错误 | 前端服务端/客户端渲染不一致 | 高 | 进行中 |
| 测试覆盖率 | 单元测试和集成测试不足 | 中 | 待开始 |
| API文档 | 缺少完整的API文档 | 中 | 待开始 |
| 性能优化 | 首屏加载速度优化 | 中 | 待开始 |
| 错误监控 | 缺少前端错误监控系统 | 低 | 待开始 |

### B. 安全检查清单

| 检查项 | 状态 | 备注 |
|--------|------|------|
| JWT密钥分离 | ✅ 已完成 | Access和Refresh使用不同密钥 |
| 输入验证 | ✅ 已完成 | 关键路由已添加验证中间件 |
| XSS防护 | ✅ 已完成 | React默认防护 + DOMPurify |
| SQL注入防护 | ✅ 已完成 | Prisma ORM参数化查询 |
| CSRF防护 | ⚠️ 需加强 | 建议添加CSRF Token |
| 敏感信息加密 | ⚠️ 需加强 | 密码使用bcrypt，建议添加敏感配置加密 |

### C. 性能指标

| 指标 | 目标值 | 当前值 | 状态 |
|------|--------|--------|------|
| 首屏加载时间 (FCP) | < 1.5s | ~2s | ⚠️ 需优化 |
| 最大内容绘制 (LCP) | < 2.5s | ~3s | ⚠️ 需优化 |
| 累积布局偏移 (CLS) | < 0.1 | ~0.05 | ✅ 达标 |
| 首次输入延迟 (FID) | < 100ms | ~50ms | ✅ 达标 |
| API响应时间 (P95) | < 500ms | ~300ms | ✅ 达标 |

---

**文档维护**: 本文档应随系统演进持续更新。如有疑问或建议，请联系技术团队。
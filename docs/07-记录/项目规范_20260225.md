# AI助手行为准则

**文档版本**: v11.0
**创建日期**: 2026-01-06
**最后更新**: 2026-02-15
**适用范围**: 所有由AI助手参与的项目

---

## 📋 目录

1. [框架图谱概览](#框架图谱概览)
2. [版本更新记录](#版本更新记录)
3. [规则板块映射关系](#规则板块映射关系)
4. [核心原则](#核心原则)
5. [项目目录结构](#项目目录结构)
6. [产品全生命周期文档体系](#产品全生命周期文档体系)
7. [文档自动更新逻辑](#文档自动更新逻辑)
8. [沟通记录管理规范](#沟通记录管理规范)
9. [发版记录管理规范](#发版记录管理规范)
10. [开发流程准则](#开发流程准则)
11. [技术栈选型原则](#技术栈选型原则)
12. [安全准则](#安全准则)
13. [性能优化原则](#性能优化原则)
14. [代码开发规范](#代码开发规范)
15. [UI设计规范](#ui设计规范)
16. [颜色使用规范](#颜色使用规范)
17. [API开发规范](#api开发规范)
18. [测试规范](#测试规范)
19. [检查清单相关行为准则](#检查清单相关行为准则)
20. [模拟案例参考相关行为准则](#模拟案例参考相关行为准则)
21. [环境隔离相关行为准则](#环境隔离相关行为准则)
22. [监控告警相关行为准则](#监控告警相关行为准则)
23. [AI提示词使用相关行为准则](#ai提示词使用相关行为准则)
24. [最佳实践](#最佳实践)

---

## 框架图谱概览

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        AI助手行为准则框架图谱                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌──────────────┐      ┌──────────────┐      ┌──────────────┐             │
│  │  核心原则    │─────▶│  项目结构    │─────▶│  文档体系    │             │
│  └──────────────┘      └──────────────┘      └──────────────┘             │
│         │                     │                     │                     │
│         ▼                     ▼                     ▼                     │
│  ┌──────────────┐      ┌──────────────┐      ┌──────────────┐             │
│  │  代码管理    │      │  目录规范    │      │  分类体系    │             │
│  │  文档管理    │      │  文件限制    │      │  命名规范    │             │
│  │  沟通规范    │      │  模块解耦    │      │  版本控制    │             │
│  └──────────────┘      └──────────────┘      └──────────────┘             │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                        自动更新逻辑                                  │   │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐            │   │
│  │  │沟通记录  │→ │产品文档  │→ │发版记录  │→ │版本更新  │            │   │
│  │  └──────────┘  └──────────┘  └──────────┘  └──────────┘            │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                        开发流程准则                                  │   │
│  │  标准流程：需求分析 → 产品设计 → 技术设计 → MVP开发 → 部署上线 → 迭代优化 → 运维监控      │   │
│  │  实施逻辑：框架搭建 → 数据层设计 → 页面开发 → 功能实现 → 测试验证 → 性能优化 → 部署上线 → 监控运维      │   │
│  │  开发原则：总（框架搭建）→ 分（逐页开发）→ 总（整合优化）      │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                        技术栈选型原则                                  │   │
│  │  前端: React + TypeScript  后端: Node.js + Express                     │   │
│  │  数据库: PostgreSQL  AI: OpenAI GPT-4 API  支付: Stripe               │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                        安全与性能优化                                 │   │
│  │  代码安全 | 数据安全 | API安全 | 前端优化 | 后端优化 | 数据库优化    │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                        开发规范体系                                   │   │
│  │  代码开发规范 | UI设计规范 | 颜色使用规范 | API开发规范 | 测试规范    │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 版本更新记录

| 版本号 | 更新日期 | 更新内容 | 涉及板块 |
|--------|---------|---------|---------|
| v11.0 | 2026-01-26 | 重新设计文档分类体系，按照文档的生命周期和用途进行分类；更新项目目录结构和文档分类原则 | [项目目录结构] |
| v10.0 | 2026-01-16 | 融合项目开发规范和AI Rules分类清单，添加代码开发规范、UI设计规范、颜色使用规范、API开发规范、测试规范 | [代码开发规范]、[UI设计规范]、[颜色使用规范]、[API开发规范]、[测试规范] |
| v9.0 | 2026-01-15 | 融合AI助手行为准则内容，添加检查清单、模拟案例参考、环境隔离、监控告警、AI提示词使用相关行为准则 | [检查清单相关行为准则]、[模拟案例参考相关行为准则]、[环境隔离相关行为准则]、[监控告警相关行为准则]、[AI提示词使用相关行为准则] |
| v8.1 | 2026-01-14 | 添加开发顺序原则(用户端→管理端,后端→前端,一致性校验) | [开发流程准则] |
| v8.0 | 2026-01-12 | 添加开发实施逻辑（框架-数据层-页面-功能-测试-性能-部署-监控）和分页渐进开发原则（总分总开发逻辑），包含各阶段说明、具体要求、开发优先级建议 | [开发流程准则] |
| v7.9 | 2026-01-11 | 添加优化方案文档构建和更新规则，包含触发场景、自动创建内容、自动更新内容、示例说明；完善文档自动更新逻辑体系 | [文档自动更新逻辑] |
| v7.8 | 2026-01-11 | 完善发版记录文档构建规则，包含新项目构建、更新规则、文档结构要求；完善PRD文档构建规则，包含产品原型设计、用户故事、交互设计、UI设计规范等详细内容 | [发版记录]、[产品规划] |
| v7.7 | 2026-01-11 | 删除产品规划文件夹中的03-设计文档子文件夹；明确产品原型图、用户故事、交互设计文档、UI设计规范等内容应包含在PRD文档中，作为产品设计的重要组成部分；删除设计文档自动创建规则 | [项目目录结构]、[产品全生命周期文档体系]、[文档自动更新逻辑] |
| v7.6 | 2026-01-11 | 在产品规划文件夹中添加03-设计文档子文件夹，包含产品原型图、交互设计文档、UI设计规范、用户故事等设计相关文档 | [项目目录结构]、[产品全生命周期文档体系] |
| v7.5 | 2026-01-11 | 重新设计整体文档框架：将PRD移至产品规划文件夹，添加优化方案子文件夹，将产品管理改为产品全生命周期管理（All in One核心文档），删除12-产品全生命周期目录，从发版记录移除性能优化报告和功能优化方案至产品规划 | [项目目录结构]、[产品全生命周期文档体系] |
| v7.4 | 2026-01-11 | 将"功能说明"从技术文档移至产品规划文件夹作为子文件夹；添加自动新建文档规则（子文件夹自动创建、功能说明文档自动创建、API接口文档自动创建、产品全生命周期文档自动创建） | [项目目录结构]、[产品全生命周期文档体系]、[文档自动更新逻辑] |
| v7.3 | 2026-01-11 | 为API接口文档添加子文件夹结构，按用户端API、管理端API、第三方API分类组织 | [项目目录结构]、[产品全生命周期文档体系] |
| v7.2 | 2026-01-11 | 添加框架图谱概览、版本更新记录、规则板块映射关系；明确功能说明文档按「产品端→页面→区块→功能点」结构组织 | [框架图谱概览]、[版本更新记录]、[规则板块映射关系]、[文档管理] |
| v7.1 | 2026-01-11 | 添加"功能说明"作为技术文档第6项；合并项目文档分类体系内容；整合产品全生命周期文档体系、文档自动更新逻辑、沟通记录和发版记录管理规范 | [项目目录结构]、[产品全生命周期文档体系]、[文档自动更新逻辑]、[沟通记录管理规范]、[发版记录管理规范] |
| v7.0 | 2026-01-11 | 基于产品全生命周期管理参考文档优化AI助手规则，添加产品全生命周期文档体系、文档自动更新逻辑、沟通记录和发版记录管理规范 | [产品全生命周期文档体系]、[文档自动更新逻辑]、[沟通记录管理规范]、[发版记录管理规范] |
| v6.0 | 2026-01-10 | 初始版本，定义核心原则、项目目录结构、开发流程准则、技术栈选型原则、安全准则、性能优化原则、最佳实践 | [核心原则]、[项目目录结构]、[开发流程准则]、[技术栈选型原则]、[安全准则]、[性能优化原则]、[最佳实践] |

---

## 规则板块映射关系

| 规则板块 | 编号 | 关联文档 | 触发条件 | 自动更新内容 |
|---------|------|---------|---------|-------------|
| [框架图谱概览] | R01 | user_rules_vX.Y.md | 规则结构变更 | 更新框架图谱、版本记录、映射关系 |
| [核心原则] | R02 | user_rules_vX.Y.md | 规则优化需求 | 更新代码管理、文档管理、沟通记录规范 |
| [项目目录结构] | R03 | user_rules_vX.Y.md | 目录结构调整 | 更新标准目录结构、文件限制、分类体系 |
| [产品全生命周期文档体系] | R04 | user_rules_vX.Y.md | 文档分类优化 | 更新分类原则、分类详解、文档定义 |
| [文档自动更新逻辑] | R05 | user_rules_vX.Y.md | 更新流程优化 | 更新触发条件、更新内容、更新流程 |
| [沟通记录管理规范] | R06 | 沟通记录_产品名称_YYYYMMDD.md | 添加/更新沟通记录 | 更新总览表、板块映射表、文档版本号 |
| [发版记录管理规范] | R07 | 产品全生命周期管理_产品名称_YYYYMMDD.md | 版本发布 | 更新功能状态、版本记录、发版日志 |
| [开发流程准则] | R08 | 开发计划_产品名称_YYYYMMDD.md | 开发阶段变更 | 更新阶段文档、流程要求 |
| [技术栈选型原则] | R09 | 技术方案设计_产品名称_YYYYMMDD.md | 技术栈变更 | 更新技术选型、技术方案 |
| [安全准则] | R10 | 安全规范.md | 安全需求变更 | 更新安全要求、安全措施 |
| [性能优化原则] | R11 | 性能优化报告_产品名称_YYYYMMDD.md | 性能优化需求 | 更新优化策略、优化方案 |
| [代码开发规范] | R12 | 开发规范_产品名称_YYYYMMDD.md | 代码规范需求 | 更新代码风格、代码组织、错误处理 |
| [UI设计规范] | R13 | UI_UX设计规范_产品名称_YYYYMMDD.md | UI设计需求 | 更新设计原则、组件设计、响应式设计 |
| [颜色使用规范] | R14 | UI_UX设计规范_产品名称_YYYYMMDD.md | 颜色规范需求 | 更新颜色规则、替代方案、检查清单 |
| [API开发规范] | R15 | API接口文档_产品名称_YYYYMMDD.md | API规范需求 | 更新API设计、响应格式、认证授权 |
| [测试规范] | R16 | 测试计划_产品名称_YYYYMMDD.md | 测试规范需求 | 更新测试类型、测试编写、覆盖率 |
| [检查清单相关行为准则] | R17 | 开发规范.md | 检查清单需求 | 更新检查清单内容、验证标准 |
| [模拟案例参考相关行为准则] | R18 | 开发规范.md | 案例参考需求 | 更新案例库、最佳实践 |
| [环境隔离相关行为准则] | R19 | 部署方案_产品名称_YYYYMMDD.md | 环境配置需求 | 更新环境配置、隔离策略 |
| [监控告警相关行为准则] | R20 | 监控方案_产品名称_YYYYMMDD.md | 监控需求变更 | 更新监控指标、告警规则 |
| [AI提示词使用相关行为准则] | R21 | 开发规范.md | AI提示词需求 | 更新提示词库、使用指南 |
| [最佳实践] | R22 | 开发规范.md | 实践经验积累 | 更新最佳实践、经验总结 |

---

## 核心原则

### 1. 代码管理
- **永远从GitHub拉取代码**：任何修复建议必须包含 `git pull origin main`
- **永远使用标准脚本**：推荐使用标准脚本，禁止手动执行修复步骤
- **永远先诊断后修复**：遇到问题先执行诊断，根据结果制定方案
- **永远记录操作**：记录所有建议的操作和预期结果
- **永远验证修复**：修复后必须验证，提供验证命令

### 2. 文档管理
- **文档命名规范**：`<文档类型>_<产品名称>_<YYYYMMDD>.md`
- **版本控制**：文档更新时同步更新版本号和日期
- **相对路径**：文档中的链接必须使用相对路径，禁止绝对路径
- **功能说明组织**：按「产品端 → 页面 → 区块 → 功能点」结构组织
  - 产品端：用户端、管理端、API端等
  - 页面：登录页面、首页、目标管理页面等
  - 区块：登录区块、目标列表区块、目标详情区块等
  - 功能点：GitHub登录功能、创建目标功能、编辑目标功能等
- **开发记录合并**：同一目的的开发记录应合并，过期的应归档或删除
- **文档完整性**：每个文档必须包含版本号、创建日期、最后更新日期、维护人

### 3. 沟通记录规范
- **必须包含**：业务逻辑图、沟通记录板块映射、沟通记录总览、详细沟通记录
- **板块映射表**：沟通编号、沟通主题、涉及板块、调整内容
- **沟通记录总览表**：沟通编号、沟通日期、沟通主题、状态（✅ 已完成 / 🔄 讨论中）
- **详细沟通记录**：沟通日期、沟通目的、涉及板块、沟通内容、沟通总结、涉及文件、状态
- **同步更新**：每次添加新沟通记录时，必须同步更新：沟通记录板块映射表、沟通记录总览表、文档版本号
- **命名规范**：`沟通记录_<产品名称>_<YYYYMMDD>.md`
- **版本号格式**：vX.Y（X为主版本号，Y为次版本号）
- **内容要求**：记录关键决策、技术实现细节、项目成果、未来优化建议
- **路径要求**：必须使用相对路径链接到相关文档

---

## 项目目录结构

### 标准目录结构

```
Project/
├── data/                          # 原始数据目录
│   └── YYYYMMDD/                  # 按日期组织的数据
├── scripts/                       # 所有脚本目录（根目录不允许有脚本文件）
│   ├── data_analysis/             # 数据分析脚本
│   ├── report_generation/         # 报告生成脚本
│   ├── data_processing/           # 数据处理脚本和输出
│   └── utils/                     # 工具脚本
├── docs/                          # 文档目录
│   ├── 00-文档索引/               # 文档导航和索引
│   ├── 01-项目规划/               # 项目立项、需求、规划
│   │   ├── 项目立项书_<产品名称>_<YYYYMMDD>.md
│   │   ├── 项目管理_<产品名称>_<YYYYMMDD>.md
│   │   └── 产品全生命周期管理_<产品名称>_<YYYYMMDD>.md
│   ├── 02-产品设计/               # PRD、功能设计、交互设计
│   │   ├── PRD文档/
│   │   │   └── PRD_<产品名称>_<YYYYMMDD>.md
│   │   ├── 产品设计/
│   │   │   ├── 产品核心设计总结_<产品名称>_<YYYYMMDD>.md
│   │   │   ├── 用户心理学驱动的产品设计_<产品名称>_<YYYYMMDD>.md
│   │   │   └── 界面原型设计文档_<YYYYMMDD>.md
│   │   ├── 功能说明/
│   │   │   ├── 用户端/           # 用户端功能说明
│   │   │   └── 管理端/           # 管理端功能说明
│   │   └── 实施方案/           # 实施方案文档
│   │       ├── 个性化推荐机制实现方案_<YYYYMMDD>.md
│   │       └── 管理端数据趋势分析实现方案_<YYYYMMDD>.md
│   ├── 03-技术架构/               # 系统架构、技术方案、API文档
│   │   ├── 系统架构/
│   │   │   ├── 系统架构完整文档_<产品名称>_<YYYYMMDD>.md
│   │   │   ├── 综合技术文档_<产品名称>_<YYYYMMDD>.md
│   │   │   ├── 系统架构与数据流路径梳理_<YYYYMMDD>.md
│   │   │   └── 系统架构文档_<YYYYMMDD>.md
│   │   └── 第三方API/
│   │       ├── 第三方API管理文档_<产品名称>_<YYYYMMDD>.md
│   │       ├── Bilibili API改进功能使用指南_<YYYYMMDD>.md
│   │       ├── Bilibili API改进实施总结_<YYYYMMDD>.md
│   │       ├── Bilibili API稳定性改进方案_<YYYYMMDD>.md
│   │       ├── Bilibili和Jobs_API详细文档_<YYYYMMDD>.md
│   │       └── 视频抓取逻辑说明_<YYYYMMDD>.md
│   ├── 04-开发记录/               # 开发日志、代码规范、技术债务
│   │   ├── 开发规范/
│   │   │   ├── Prisma_Client使用规范_<YYYYMMDD>.md
│   │   │   ├── Prisma_Client错误预防措施_<YYYYMMDD>.md
│   │   │   ├── 文档一致性检查报告_<YYYYMMDD>.md
│   │   │   └── 文档重命名报告_<YYYYMMDD>.md
│   │   ├── 首页模块/
│   │   │   ├── 首页模块管理页面优化说明_<YYYYMMDD>.md
│   │   │   ├── 首页运营模块类型清单和示例_<YYYYMMDD>.md
│   │   │   └── 首页运营模块配置示例_<YYYYMMDD>.md
│   │   └── 综合开发记录_<产品名称>_<YYYYMMDD>.md
│   ├── 05-测试报告/               # 测试记录、性能测试、安全测试
│   │   ├── API测试/
│   │   │   ├── API修复完成报告_<YYYYMMDD>.md
│   │   │   ├── API修复进度_<YYYYMMDD>.md
│   │   │   └── API检查报告_<YYYYMMDD>.md
│   │   ├── 其他测试/
│   │   │   └── 非Docker启动和数据流转检查报告_<YYYYMMDD>.md
│   │   ├── 功能测试与性能优化报告_<YYYYMMDD>.md
│   │   ├── 性能优化实施报告_<YYYYMMDD>.md
│   │   └── 综合测试记录_<产品名称>_<YYYYMMDD>.md
│   ├── 06-部署运维/               # 部署指南、运维手册、故障处理
│   │   ├── 部署与启动指南_<产品名称>_<YYYYMMDD>.md
│   │   ├── Docker问题修复指南_<YYYYMMDD>.md
│   │   └── 管理员账号说明_<YYYYMMDD>.md
│   ├── 07-评估总结/               # 项目评估、总结报告
│   │   ├── Embodied_Pulse_全面评估报告_<YYYYMMDD>.md
│   │   ├── Embodied_Pulse_评估报告表格版_<YYYYMMDD>.md
│   │   ├── 产品全面评估报告_<YYYYMMDD>.md
│   │   ├── 启动状态报告_<YYYYMMDD>.md
│   │   └── 项目完成总结_<YYYYMMDD>.md
│   ├── 08-发版记录/               # 版本发布、更新日志
│   │   └── 发版记录_vX.Y_<YYYYMMDD>.md
│   ├── 09-沟通记录/               # 会议记录、沟通文档
│   │   └── 沟通记录_<产品名称>_<YYYYMMDD>.md
│   ├── 10-规范模板/               # 文档规范、模板文件
│   │   ├── 产品模板/
│   │   │   └── PRD模板.md
│   │   ├── 开发模板/
│   │   │   ├── 技术方案模板.md
│   │   │   └── 开发记录模板.md
│   │   ├── 发版模板/
│   │   │   └── 发版记录模板.md
│   │   └── user_rules_vX.Y.md
│   └── 11-其他文档/               # 其他临时文档
│       ├── 数据安全承诺书_<YYYYMMDD>.md
│       ├── 文档体系整理报告_<YYYYMMDD>.md
│       └── 紧急数据恢复方案_<YYYYMMDD>.md
```

### 文档分类原则

按照**文档的生命周期和用途**进行分类：

#### 01-项目规划 - 项目启动阶段
- 项目立项书
- 项目管理
- 产品全生命周期管理

#### 02-产品设计 - 所有产品相关设计
- PRD文档
- 功能说明（用户端、管理端）
- 产品设计（产品核心设计、用户心理学驱动设计、界面原型设计）
- 实施方案（个性化推荐、数据趋势分析）

#### 03-技术架构 - 技术相关
- 系统架构
- 第三方API

#### 04-开发记录 - 开发过程
- 开发规范
- 首页模块
- 综合开发记录

#### 05-测试报告 - 测试相关
- API测试
- 其他测试
- 综合测试记录

#### 06-部署运维 - 部署运维
- 部署指南
- Docker问题修复
- 管理员账号说明

#### 07-评估总结 - 项目评估和总结
- 评估报告
- 总结报告

#### 08-发版记录 - 版本发布
- 发版记录

#### 09-沟通记录 - 沟通会议
- 沟通记录

#### 10-规范模板 - 规范模板
- 规范文档
- 模板文件

#### 11-其他文档 - 其他
- 数据安全承诺书
- 文档体系整理报告
- 紧急数据恢复方案
├── reports/                       # 分析报告目录
│   └── YYYYMMDD/                  # 按日期组织的报告
├── .gitignore                     # Git忽略文件
├── README.md                      # 项目说明文档（根目录唯一允许的文档）
└── requirements.txt                # Python依赖列表（根目录唯一允许的配置文件）
```

### 根目录文件限制

**只允许以下文件**：
- `README.md` - 项目说明文档
- `requirements.txt` - Python依赖列表
- `.gitignore` - Git忽略配置
- `.env` - 环境变量配置（如果有）

**禁止以下文件**：
- ❌ 任何脚本文件（.py, .sh, .js等）
- ❌ 任何数据文件（.xlsx, .csv, .json等）
- ❌ 任何报告文件（.md, .pdf等，README.md除外）
- ❌ 任何临时文件

---

## 产品全生命周期文档体系

### 文档分类原则

1. **按项目阶段分类**：反映项目的自然演进过程
2. **按文档类型分类**：便于快速定位和查找
3. **按范围分类**：区分通用文档和项目特定文档
4. **避免过度细分**：保持分类简洁实用
5. **模块解耦化**：每个文档只负责一个明确的功能或主题，模块间依赖关系最小化

### 文档分类详解

#### 01-项目立项
**分类说明**：项目立项和规划阶段文档，包括项目立项书、项目计划书、风险评估报告、商业化操盘表等。

| 文档类型 | 文档名称 | 命名规范 | 存放位置 | 适用范围 |
|---------|---------|---------|---------|---------|
| 项目立项书 | 项目立项书_产品名称_YYYYMMDD.md | 项目立项书_<产品名称>_<YYYYMMDD>.md | docs/01-项目立项/ | [通用] |
| 项目计划书 | 项目计划书_产品名称_YYYYMMDD.md | 项目计划书_<产品名称>_<YYYYMMDD>.md | docs/01-项目立项/ | [通用] |
| 风险评估报告 | 风险评估报告_产品名称_YYYYMMDD.md | 风险评估报告_<产品名称>_<YYYYMMDD>.md | docs/01-项目立项/ | [通用] |
| 资源需求清单 | 资源需求清单_产品名称_YYYYMMDD.md | 资源需求清单_<产品名称>_<YYYYMMDD>.md | docs/01-项目立项/ | [通用] |
| 立项文档 | 立项_产品名称_YYYYMMDD.md | 立项_<产品名称>_<YYYYMMDD>.md | docs/01-项目立项/ | [通用] |
| 商业化操盘表 | 商业化操盘表_产品名称_YYYYMMDD.md | 商业化操盘表_<产品名称>_<YYYYMMDD>.md | docs/01-项目立项/ | [通用] |

#### 02-需求调研
**分类说明**：需求调研和用户研究阶段文档，包括用户访谈记录、需求分析报告等。

| 文档类型 | 文档名称 | 命名规范 | 存放位置 | 适用范围 |
|---------|---------|---------|---------|---------|
| 需求调研计划 | 需求调研计划_产品名称_YYYYMMDD.md | 需求调研计划_<产品名称>_<YYYYMMDD>.md | docs/02-需求调研/ | [通用] |
| 用户访谈记录 | 用户访谈记录_产品名称_YYYYMMDD.md | 用户访谈记录_<产品名称>_<YYYYMMDD>.md | docs/02-需求调研/ | [通用] |
| 需求分析报告 | 需求分析报告_产品名称_YYYYMMDD.md | 需求分析报告_<产品名称>_<YYYYMMDD>.md | docs/02-需求调研/ | [通用] |

#### 03-产品规划
**分类说明**：产品规划和策略阶段文档，包括PRD、UI/UX设计规范、功能说明、优化方案等。

| 文档类型 | 文档名称 | 命名规范 | 存放位置 | 适用范围 |
|---------|---------|---------|---------|---------|
| 产品需求文档 | PRD_产品名称_YYYYMMDD.md | PRD_<产品名称>_<YYYYMMDD>.md | docs/03-产品规划/ | [通用] |
| UI/UX设计规范 | UI_UX设计规范_产品名称_YYYYMMDD.md | UI_UX设计规范_<产品名称>_<YYYYMMDD>.md | docs/03-产品规划/ | [通用] |
| 功能说明文档 | 功能说明文档_产品名称_YYYYMMDD.md | 功能说明文档_<产品名称>_<YYYYMMDD>.md | docs/03-产品规划/01-功能说明/ | [通用] |
| 性能优化报告 | 性能优化报告_产品名称_YYYYMMDD.md | 性能优化报告_<产品名称>_<YYYYMMDD>.md | docs/03-产品规划/02-优化方案/ | [通用] |
| 功能优化方案 | 功能优化方案_产品名称_YYYYMMDD.md | 功能优化方案_<产品名称>_<YYYYMMDD>.md | docs/03-产品规划/02-优化方案/ | [通用] |

#### 04-产品管理
**分类说明**：产品全生命周期管理阶段文档，包含核心"All in One"产品全生命周期管理文档，整合产品架构、功能状态、Phase规划、用户反馈、功能跟踪、技术债务和产品路线图。

| 文档类型 | 文档名称 | 命名规范 | 存放位置 | 适用范围 |
|---------|---------|---------|---------|---------|
| 产品全生命周期管理 | 产品全生命周期管理_产品名称_YYYYMMDD.md | 产品全生命周期管理_<产品名称>_<YYYYMMDD>.md | docs/04-产品管理/ | [通用] |

#### 05-技术文档
**分类说明**：技术设计和架构阶段文档，包括技术方案设计、系统架构设计、API接口文档等。

| 文档类型 | 文档名称 | 命名规范 | 存放位置 | 适用范围 |
|---------|---------|---------|---------|---------|
| 技术方案设计 | 技术方案设计_产品名称_YYYYMMDD.md | 技术方案设计_<产品名称>_<YYYYMMDD>.md | docs/05-技术文档/01-技术方案设计/ | [通用] |
| 系统架构设计 | 系统架构设计_产品名称_YYYYMMDD.md | 系统架构设计_<产品名称>_<YYYYMMDD>.md | docs/05-技术文档/02-系统架构设计/ | [通用] |
| 数据库设计文档 | 数据库设计文档_产品名称_YYYYMMDD.md | 数据库设计文档_<产品名称>_<YYYYMMDD>.md | docs/05-技术文档/03-数据库设计/ | [Web后端] |
| 用户端API文档 | 用户端API文档_产品名称_YYYYMMDD.md | 用户端API文档_<产品名称>_<YYYYMMDD>.md | docs/05-技术文档/04-API接口文档/01-用户端API/ | [Web后端] |
| 管理端API文档 | 管理端API文档_产品名称_YYYYMMDD.md | 管理端API文档_<产品名称>_<YYYYMMDD>.md | docs/05-技术文档/04-API接口文档/02-管理端API/ | [Web后端] |
| 第三方API文档 | 第三方API文档_产品名称_YYYYMMDD.md | 第三方API文档_<产品名称>_<YYYYMMDD>.md | docs/05-技术文档/04-API接口文档/03-第三方API/ | [Web后端] |
| 数据分析框架 | 数据分析框架_产品名称_YYYYMMDD.md | 数据分析框架_<产品名称>_<YYYYMMDD>.md | docs/05-技术文档/05-数据分析框架/ | [数据分析] |
| 数据清洗方案 | 数据清洗方案_产品名称_YYYYMMDD.md | 数据清洗方案_<产品名称>_<YYYYMMDD>.md | docs/05-技术文档/05-数据分析框架/ | [数据分析] |

#### 06-开发记录
**分类说明**：开发过程和进度记录阶段文档，包括开发计划、开发进度报告等。

| 文档类型 | 文档名称 | 命名规范 | 存放位置 | 适用范围 |
|---------|---------|---------|---------|---------|
| 开发计划 | 开发计划_产品名称_YYYYMMDD.md | 开发计划_<产品名称>_<YYYYMMDD>.md | docs/06-开发记录/ | [通用] |
| 开发进度报告 | 开发进度报告_产品名称_YYYYMMDD.md | 开发进度报告_<产品名称>_<YYYYMMDD>.md | docs/06-开发记录/ | [通用] |
| 代码评审记录 | 代码评审记录_产品名称_YYYYMMDD.md | 代码评审记录_<产品名称>_<YYYYMMDD>.md | docs/06-开发记录/ | [通用] |
| 开发规范 | 开发规范_产品名称_YYYYMMDD.md | 开发规范_<产品名称>_<YYYYMMDD>.md | docs/06-开发记录/ | [通用] |
| 数据分析脚本文档 | 数据分析脚本文档_产品名称_YYYYMMDD.md | 数据分析脚本文档_<产品名称>_<YYYYMMDD>.md | docs/06-开发记录/ | [数据分析] |

#### 07-测试记录
**分类说明**：测试和质量保证阶段文档，包括测试计划、测试报告等。

| 文档类型 | 文档名称 | 命名规范 | 存放位置 | 适用范围 |
|---------|---------|---------|---------|---------|
| 测试计划 | 测试计划_产品名称_YYYYMMDD.md | 测试计划_<产品名称>_<YYYYMMDD>.md | docs/07-测试记录/ | [通用] |
| 测试用例 | 测试用例_产品名称_YYYYMMDD.md | 测试用例_<产品名称>_<YYYYMMDD>.md | docs/07-测试记录/ | [通用] |
| 测试报告 | 测试报告_产品名称_YYYYMMDD.md | 测试报告_<产品名称>_<YYYYMMDD>.md | docs/07-测试记录/ | [通用] |
| Bug跟踪记录 | Bug跟踪记录_产品名称_YYYYMMDD.md | Bug跟踪记录_<产品名称>_<YYYYMMDD>.md | docs/07-测试记录/ | [通用] |
| 数据验证报告 | 数据验证报告_产品名称_YYYYMMDD.md | 数据验证报告_<产品名称>_<YYYYMMDD>.md | docs/07-测试记录/ | [数据分析] |

#### 08-安装部署
**分类说明**：部署和运维阶段文档，包括部署方案、部署记录、运维手册等。

| 文档类型 | 文档名称 | 命名规范 | 存放位置 | 适用范围 |
|---------|---------|---------|---------|---------|
| 部署方案 | 部署方案_产品名称_YYYYMMDD.md | 部署方案_<产品名称>_<YYYYMMDD>.md | docs/08-安装部署/ | [通用] |
| 部署记录 | 部署记录_产品名称_YYYYMMDD.md | 部署记录_<产品名称>_<YYYYMMDD>.md | docs/08-安装部署/ | [通用] |
| 部署检查清单 | 部署检查清单_产品名称_YYYYMMDD.md | 部署检查清单_<产品名称>_<YYYYMMDD>.md | docs/08-安装部署/ | [通用] |
| 运维手册 | 运维手册_产品名称_YYYYMMDD.md | 运维手册_<产品名称>_<YYYYMMDD>.md | docs/08-安装部署/ | [通用] |
| 监控方案 | 监控方案_产品名称_YYYYMMDD.md | 监控方案_<产品名称>_<YYYYMMDD>.md | docs/08-安装部署/ | [通用] |

#### 09-发版记录
**分类说明**：版本发布和迭代阶段文档，包括发版记录、版本更新日志等。

| 文档类型 | 文档名称 | 命名规范 | 存放位置 | 适用范围 |
|---------|---------|---------|---------|---------|
| 发版记录 | 发版记录_产品名称_YYYYMMDD.md | 发版记录_<产品名称>_<YYYYMMDD>.md | docs/09-发版记录/ | [通用] |
| 版本更新日志 | 版本更新日志_产品名称_YYYYMMDD.md | 版本更新日志_<产品名称>_<YYYYMMDD>.md | docs/09-发版记录/ | [通用] |

#### 10-沟通记录
**分类说明**：沟通协作阶段文档，包括沟通记录、会议纪要等。

| 文档类型 | 文档名称 | 命名规范 | 存放位置 | 适用范围 |
|---------|---------|---------|---------|---------|
| 沟通记录 | 沟通记录_产品名称_YYYYMMDD.md | 沟通记录_<产品名称>_<YYYYMMDD>.md | docs/10-沟通记录/ | [通用] |
| 会议纪要 | 会议纪要_产品名称_YYYYMMDD.md | 会议纪要_<产品名称>_<YYYYMMDD>.md | docs/10-沟通记录/ | [通用] |

#### 11-项目总结
**分类说明**：项目总结和归档阶段文档，包括项目总结报告、经验教训总结等。

| 文档类型 | 文档名称 | 命名规范 | 存放位置 | 适用范围 |
|---------|---------|---------|---------|---------|
| 项目总结报告 | 项目总结报告_产品名称_YYYYMMDD.md | 项目总结报告_<产品名称>_<YYYYMMDD>.md | docs/11-项目总结/ | [通用] |
| 经验教训总结 | 经验教训总结_产品名称_YYYYMMDD.md | 经验教训总结_<产品名称>_<YYYYMMDD>.md | docs/11-项目总结/ | [通用] |

---

## 文档自动更新逻辑

### 更新触发条件

1. **沟通记录添加**：当添加新的沟通记录时
2. **产品文档更新**：当PRD、技术方案等核心文档更新时
3. **发版记录更新**：当发布新版本时
4. **功能状态变更**：当功能状态发生变化时
5. **技术债务记录**：当记录新的技术债务时
6. **用户需求反馈**：当收到新的用户需求反馈时

### 自动更新内容

1. **沟通记录文档**：
   - 更新沟通记录板块映射表
   - 更新沟通记录总览表
   - 更新文档版本号和日期

2. **产品全生命周期管理文档**：
   - 更新功能状态总览
   - 更新功能跟踪看板
   - 更新技术债务管理
   - 更新用户需求反馈记录
   - 更新文档版本号和日期

3. **发版记录文档**：
   - 更新功能状态
   - 更新版本记录
   - 更新发版日志
   - 更新文档版本号和日期

### 更新流程

1. **检测触发条件**：系统自动检测文档变更
2. **识别更新类型**：根据变更类型确定更新内容
3. **执行更新操作**：按照预设规则更新相关文档
4. **验证更新结果**：检查更新是否正确完成
5. **记录更新日志**：记录更新操作和结果

---

## 沟通记录管理规范

### 文档结构

```markdown
# 沟通记录_<产品名称>_<YYYYMMDD>

**文档版本**: vX.Y
**创建日期**: YYYY-MM-DD
**最后更新**: YYYY-MM-DD
**产品名称**: <产品名称>

---

## 📋 目录

1. [业务逻辑图](#业务逻辑图)
2. [沟通记录板块映射](#沟通记录板块映射)
3. [沟通记录总览](#沟通记录总览)
4. [详细沟通记录](#详细沟通记录)

---

## 业务逻辑图
<业务逻辑图或描述>

---

## 沟通记录板块映射

| 沟通编号 | 沟通主题 | 涉及板块 | 调整内容 |
|---------|---------|---------|---------|
| C001 | <主题> | <板块> | <调整内容> |

---

## 沟通记录总览

| 沟通编号 | 沟通日期 | 沟通主题 | 状态 |
|---------|---------|---------|------|
| C001 | YYYY-MM-DD | <主题> | ✅ 已完成 / 🔄 讨论中 |

---

## 详细沟通记录

### C001 - <沟通主题>

**沟通日期**: YYYY-MM-DD
**沟通目的**: <目的>
**涉及板块**: <板块>
**沟通内容**: <内容>
**沟通总结**: <总结>
**涉及文件**: <文件列表>
**状态**: ✅ 已完成 / 🔄 讨论中
```

### 更新规则

1. **添加新沟通记录时**：
   - 在详细沟通记录部分添加新记录
   - 更新沟通记录板块映射表
   - 更新沟通记录总览表
   - 更新文档版本号（Y+1）
   - 更新最后更新日期

2. **更新沟通记录状态时**：
   - 更新详细沟通记录中的状态
   - 更新沟通记录总览表中的状态
   - 更新文档版本号（Y+1）
   - 更新最后更新日期

---

## 发版记录管理规范

### 文档结构

```markdown
# 发版记录_<产品名称>_<YYYYMMDD>

**文档版本**: vX.Y
**创建日期**: YYYY-MM-DD
**最后更新**: YYYY-MM-DD
**产品名称**: <产品名称>

---

## 📋 目录

1. [版本记录](#版本记录)
2. [发版日志](#发版日志)
3. [功能状态](#功能状态)

---

## 版本记录

| 版本号 | 发布日期 | 主要功能 | 状态 |
|--------|---------|---------|------|
| v1.0.0 | YYYY-MM-DD | <功能列表> | ✅ 已发布 |

---

## 发版日志

### v1.0.0 - YYYY-MM-DD

**新增功能**:
- <功能1>
- <功能2>

**优化改进**:
- <改进1>
- <改进2>

**问题修复**:
- <修复1>
- <修复2>

---

## 功能状态

| 功能ID | 功能名称 | 当前版本 | 状态 | 完成日期 |
|--------|---------|---------|------|---------|
| F001 | <功能名称> | v1.0.0 | ✅ 已完成 | YYYY-MM-DD |
```

### 更新规则

1. **发布新版本时**：
   - 在版本记录中添加新版本
   - 在发版日志中添加新版本日志
   - 更新功能状态表
   - 更新文档版本号（X+1）
   - 更新最后更新日期

2. **更新功能状态时**：
   - 更新功能状态表中的状态
   - 如果功能完成，更新完成日期
   - 更新文档版本号（Y+1）
   - 更新最后更新日期

---

## 开发流程准则

### 开发流程

```
┌─────────────────────────────────────────────────────────────┐
│                        开发流程准则                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  标准流程：需求分析 → 产品设计 → 技术设计 → MVP开发 → 部署上线 → 迭代优化 → 运维监控      │
│                                                             │
│  实施逻辑：框架搭建 → 数据层设计 → 页面开发 → 功能实现 → 测试验证 → 性能优化 → 部署上线 → 监控运维      │
│                                                             │
│  开发原则：总（框架搭建）→ 分（逐页开发）→ 总（整合优化）      │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 开发顺序原则

**核心原则**

```
先把用户端做完，再做管理端，然后先把后端做完，再做前端，然后校验前后端还有数据库的一致性，校验用户端和管理端的一致性
```

**AI助手必须：**
- ✅ 严格按照用户端→管理端的顺序开发
- ✅ 严格按照后端→前端的顺序开发
- ✅ 在开发完成后进行前后端一致性校验
- ✅ 在开发完成后进行用户端与管理端一致性校验
- ✅ 每个阶段完成后必须进行独立测试
- ✅ 及时记录开发过程中发现的问题

**AI助手禁止：**
- ❌ 跳过开发顺序，随意开发
- ❌ 在用户端未完成时开发管理端
- ❌ 在后端未完成时开发前端
- ❌ 不进行一致性校验就认为开发完成
- ❌ 混乱开发，不遵循既定顺序

### 需求分析阶段

**AI助手必须：**
- ✅ 帮助用户进行需求调研，使用"当你做X时，最大阻碍是什么？"的格式
- ✅ 使用需求真伪判断三问法过滤伪需求（高频性、繁琐性、容错性）
- ✅ 使用RICE评分法对需求优先级排序：RICE = (影响力 × 触达用户 × 确定性) ÷ 成本
- ✅ 使用5W2H方法描述每个需求
- ✅ 为每个需求定义明确的验收标准（可测试、可衡量）
- ✅ 推荐访谈3-5个典型用户（新手、资深、Leader）
- ✅ 聚焦核心痛点，避免花哨功能

**AI助手禁止：**
- ❌ 直接问用户"你想要什么功能？"
- ❌ 凭空想象功能，不进行用户调研就开发
- ❌ 评分主观性强，缺乏依据
- ❌ 需求描述不清晰、缺少验收标准
- ❌ 避免追求完美，导致迟迟无法交付

### 产品设计阶段

**AI助手必须：**
- ✅ 帮助用户编写PRD文档，包含：产品目标、用户故事、功能规格、验收标准
- ✅ 确保验收标准是可测试、可衡量的
- ✅ 添加用户场景和流程图
- ✅ 划分功能模块（用户端、管理端、后台）
- ✅ 定义模块之间的关系和接口
- ✅ 设计数据流转和状态管理
- ✅ 设计核心页面（首页、详情页、列表页）
- ✅ 设计交互流程和跳转逻辑
- ✅ 框架图谱和架构图必须使用md格式（ASCII art），不要使用mermaid格式。md格式更清晰易读，适合展示整体架构和框架关系

**AI助手禁止：**
- ❌ PRD写不好、验收标准不明确
- ❌ 模块划分不合理、接口定义不清
- ❌ 原型不完整、交互逻辑不清

### 技术设计阶段

**AI助手必须：**
- ✅ 帮助用户进行技术选型，考虑学习成本、社区支持、性能要求
- ✅ 对比2-3个备选方案
- ✅ 推荐成熟稳定的技术，避免过度追求新技术
- ✅ 设计系统整体架构（分层架构）
- ✅ 画出架构图（用户层、应用层、数据层）
- ✅ 定义各层职责和接口
- ✅ 识别可复用的模块和组件
- ✅ 设计模块接口和依赖关系
- ✅ 定义模块的输入输出
- ✅ 编写SPEC文档，定义API接口规范（URL、方法、参数、响应）
- ✅ 设计数据库表结构
- ✅ 定义数据模型和关系

**AI助手禁止：**
- ❌ 技术选型不当、过度追求新技术
- ❌ 架构设计不合理、扩展性差
- ❌ 模块耦合度高、复用性差
- ❌ SPEC写不好、技术可行性不清

### MVP开发阶段

**AI助手必须：**
- ✅ 帮助用户搭建本地开发环境（安装开发工具、配置虚拟环境、安装依赖包）
- ✅ 按优先级开发核心功能
- ✅ 使用模块化设计，复用组件
- ✅ 遵循代码规范（PEP8）
- ✅ 使用Git分支管理（main/dev/feature）
- ✅ 遵循Commit Message规范
- ✅ 定期推送到GitHub
- ✅ 编写单元测试用例
- ✅ 测试核心功能和边界情况
- ✅ 确保测试覆盖率>80%
- ✅ 本地运行应用，测试所有核心功能
- ✅ 验证验收标准
- ✅ 从小功能入手，快速验证（MVP）

**AI助手禁止：**
- ❌ 环境配置错误、依赖冲突
- ❌ 开发效率低、代码质量差
- ❌ 代码冲突、提交不规范
- ❌ 测试用例不完整、覆盖率低
- ❌ 功能不完整、性能不达标
- ❌ 一次性做太多，分阶段迭代

### 首次部署阶段

**AI助手必须：**
- ✅ 帮助用户准备服务器（购买云服务器、配置防火墙、安装必要软件）
- ✅ 克隆代码到服务器
- ✅ 安装Python依赖
- ✅ 配置生产环境（.env文件）
- ✅ 配置Nginx反向代理（转发到Flask）
- ✅ 配置静态文件服务
- ✅ 配置Gzip压缩
- ✅ 申请SSL证书（Let's Encrypt）
- ✅ 配置HTTPS
- ✅ 配置HTTP自动跳转HTTPS
- ✅ 访问生产环境URL，测试所有核心功能
- ✅ 检查日志是否有错误

**AI助手禁止：**
- ❌ 服务器配置错误、安全漏洞
- ❌ 依赖冲突、环境配置错误
- ❌ Nginx配置错误、反向代理失败
- ❌ SSL证书申请失败、HTTPS配置错误
- ❌ 功能异常、性能问题

### 迭代优化阶段

**AI助手必须：**
- ✅ 帮助用户监控用户行为数据
- ✅ 收集用户反馈（问卷、访谈）
- ✅ 识别用户痛点
- ✅ 使用性能分析工具（如：New Relic）
- ✅ 识别性能瓶颈（数据库、代码、网络）
- ✅ 优化数据库查询（添加索引、优化SQL）
- ✅ 根据反馈优先级排序功能
- ✅ 使用A/B测试验证新功能
- ✅ 小步迭代，快速验证
- ✅ 进行安全审计（使用工具如：OWASP ZAP）
- ✅ 修复安全漏洞（XSS、CSRF、SQL注入）
- ✅ 加强身份认证和授权
- ✅ 每次迭代都基于数据反馈

**AI助手禁止：**
- ❌ 反馈不真实、样本量不足
- ❌ 优化方向错误、效果不明显
- ❌ 迭代方向错误、功能堆砌
- ❌ 安全漏洞未发现、修复不彻底
- ❌ 凭感觉优化，不基于数据决策

### 运维监控阶段

**AI助手必须：**
- ✅ 帮助用户选择监控工具（Prometheus、Grafana）
- ✅ 配置监控指标（CPU、内存、磁盘、网络）
- ✅ 配置应用监控（响应时间、错误率、QPS）
- ✅ 配置日志收集（ELK Stack）
- ✅ 配置日志格式和级别
- ✅ 分析错误日志和访问日志
- ✅ 建立故障排查流程
- ✅ 使用监控工具定位问题
- ✅ 分析日志查找原因
- ✅ 配置自动备份（数据库、文件）
- ✅ 定期测试备份恢复
- ✅ 备份到多个位置（本地、云存储）

**AI助手禁止：**
- ❌ 监控指标不全、告警配置错误
- ❌ 日志不完整、分析困难
- ❌ 故障定位慢、修复不及时
- ❌ 备份失败、恢复测试不足

---

## 技术栈选型原则

**AI助手必须：**
- ✅ 根据项目需求推荐合适的技术栈
- ✅ 考虑团队技术背景和学习成本
- ✅ 推荐有活跃社区和丰富文档的技术
- ✅ 推荐生态完善的技术（有丰富的第三方库和工具）
- ✅ 推荐代码清晰、易于理解和修改的技术
- ✅ 对比2-3个备选方案，说明优缺点
- ✅ 推荐成熟稳定的技术，避免过度追求新技术
- ✅ 根据适用性、学习成本、社区支持、生态完善、可维护性等维度进行评估

**AI助手禁止：**
- ❌ 推荐不适合项目需求的技术
- ❌ 忽略团队技术背景和学习成本
- ❌ 推荐社区不活跃、文档不完善的技术
- ❌ 推荐生态不完善的技术
- ❌ 推荐过于复杂或小众的技术
- ❌ 过度追求新技术

### 推荐技术栈

```
┌─────────────────────────────────────────────────────────────────────┐
│                        技术栈选型原则                              │
├─────────────────────────────────────────────────────────────────────┤
│                                                             │
│  前端: React + TypeScript  后端: Node.js + Express                     │
│  数据库: PostgreSQL  AI: OpenAI GPT-4 API  支付: Stripe               │
│                                                             │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 安全准则

**AI助手必须：**
- ✅ 帮助用户避免SQL注入（使用参数化查询）
- ✅ 帮助用户避免XSS攻击（对用户输入进行转义）
- ✅ 帮助用户避免CSRF攻击（使用CSRF Token）
- ✅ 帮助用户加密存储敏感数据（密码、密钥）
- ✅ 推荐使用HTTPS传输数据
- ✅ 帮助用户实现身份认证和授权
- ✅ 推荐使用安全的密码哈希算法（如bcrypt）
- ✅ 帮助用户配置安全的会话管理
- ✅ 推荐使用安全的API认证方式（如JWT）
- ✅ 帮助用户实现API访问频率限制
- ✅ 推荐使用安全的文件上传方式
- ✅ 帮助用户配置安全的数据库访问

**AI助手禁止：**
- ❌ 建议使用不安全的密码存储方式（如明文存储）
- ❌ 忽略输入验证和输出编码
- ❌ 忽略会话安全
- ❌ 使用不安全的API认证方式
- ❌ 忽略文件上传安全
- ❌ 忽略数据库安全

---

## 性能优化原则

**AI助手必须：**
- ✅ 帮助用户识别性能瓶颈（前端、后端、数据库、网络）
- ✅ 推荐前端优化方案（代码压缩、图片优化、缓存策略）
- ✅ 推荐后端优化方案（算法优化、并发处理、缓存机制）
- ✅ 推荐数据库优化方案（索引优化、查询优化、连接池）
- ✅ 帮助用户实现CDN加速
- ✅ 推荐使用缓存技术（Redis、Memcached）
- ✅ 帮助用户实现数据库读写分离
- ✅ 推荐使用异步处理（消息队列）
- ✅ 帮助用户实现负载均衡
- ✅ 推荐使用性能监控工具
- ✅ 帮助用户进行压力测试
- ✅ 推荐使用性能分析工具

**AI助手禁止：**
- ❌ 忽略性能监控和分析
- ❌ 过度优化，不考虑成本效益
- ❌ 忽略缓存策略
- ❌ 忽略数据库优化
- ❌ 忽略前端性能优化

---

## 代码开发规范

### 1. 代码风格

#### TypeScript规范
- 使用TypeScript编写所有代码
- 严格类型检查
- 避免使用any类型
- 使用接口定义数据结构

#### 命名规范
- 变量：camelCase
- 常量：UPPER_SNAKE_CASE
- 函数：camelCase
- 类：PascalCase
- 接口：PascalCase，以I开头

#### 注释规范
- 函数和复杂逻辑必须添加注释
- 使用JSDoc格式
- 注释要清晰简洁

### 2. 代码组织

#### 文件结构
```
src/
├── components/     # 公共组件
├── pages/         # 页面组件
├── services/      # 业务逻辑
├── utils/         # 工具函数
├── types/         # 类型定义
├── hooks/         # 自定义Hooks
└── constants/     # 常量定义
```

#### 组件规范
- 单一职责原则
- 组件大小适中（<300行）
- 使用Props传递数据
- 使用状态管理共享数据

### 3. 错误处理

#### 错误处理原则
- 所有异步操作必须处理错误
- 使用try-catch捕获错误
- 提供友好的错误提示
- 记录错误日志

#### 错误处理示例
```typescript
try {
  const result = await fetchData();
  return result;
} catch (error) {
  console.error('获取数据失败:', error);
  throw new Error('获取数据失败，请稍后重试');
}
```

---

## UI设计规范

### 1. 设计原则

#### 核心原则
- **用户优先**: 以用户需求为中心
- **简洁明了**: 界面简洁，易于理解
- **一致性**: 保持设计风格一致
- **响应式**: 适配不同设备

#### 设计目标
- 提供良好的用户体验
- 降低学习成本
- 提高操作效率
- 增强用户粘性

### 2. 组件设计

#### 组件规范
- 使用Ant Design组件库
- 自定义组件遵循设计规范
- 组件可复用
- 组件可配置

#### 组件示例
```tsx
import { Button, Card, Tag } from 'antd';

const MyComponent = ({ title, description, tags }) => (
  <Card
    title={title}
    extra={<Tag color="blue">标签</Tag>}
  >
    <p>{description}</p>
  </Card>
);
```

### 3. 响应式设计

#### 断点设置
- 移动端：<768px
- 平板端：768px-1024px
- 桌面端：>1024px

#### 响应式实现
```tsx
import { useBreakpoint } from 'antd';

const MyComponent = () => {
  const { xs, sm, md, lg, xl } = useBreakpoint();

  return (
    <div style={{ padding: xs ? '8px' : '16px' }}>
      内容
    </div>
  );
};
```

---

## 颜色使用规范

### 1. 核心规则

#### 禁止使用紫色的场景

**用户端和管理端，所有Banner或按钮的背景不允许有任何紫色。**

#### 禁止示例 ❌
- Banner背景使用紫色渐变
- 按钮背景使用紫色
- 卡片背景使用紫色
- 任何UI元素的背景色使用紫色

#### 允许使用紫色的场景 ✅
- **图标颜色**可以使用紫色
- **标签（Tag）颜色**可以使用紫色
- 文字颜色可以使用紫色（非背景）

### 2. 替代方案

#### 推荐颜色方案

当需要替换紫色背景时，推荐使用：

1. **蓝色渐变**（主要推荐）
   ```css
   background: linear-gradient(135deg, #1890ff 0%, #096dd9 100%);
   ```

2. **其他可选颜色**
   - 青色渐变：`linear-gradient(135deg, #13c2c2 0%, #08979c 100%)`
   - 绿色渐变：`linear-gradient(135deg, #52c41a 0%, #389e0d 100%)`
   - 橙色渐变：`linear-gradient(135deg, #fa8c16 0%, #d46b08 100%)`

### 3. 检查清单

在开发或修改代码时，请检查：

- [ ] Banner背景是否使用了紫色？
- [ ] 按钮背景是否使用了紫色？
- [ ] 卡片背景是否使用了紫色？
- [ ] 其他UI元素背景是否使用了紫色？
- [ ] 图标和标签的紫色使用是否符合规范？

### 4. 常见紫色色值

需要避免在背景中使用的紫色色值：
- `#667eea`
- `#764ba2`
- `purple`
- `#722ed1`
- 任何包含紫色的渐变

### 5. 符合规范的示例

#### 图标使用紫色 ✅
```tsx
<GithubOutlined style={{ color: '#722ed1' }} />
```

#### 标签使用紫色 ✅
```tsx
<Tag color="purple">视频</Tag>
```

#### 按钮背景使用蓝色 ✅
```tsx
<Button
  style={{
    background: 'linear-gradient(135deg, #1890ff 0%, #096dd9 100%)'
  }}
>
  提交
</Button>
```

### 6. 不符合规范的示例

#### Banner背景使用紫色 ❌
```tsx
<div style={{
  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'
}}>
  Banner内容
</div>
```

#### 按钮背景使用紫色 ❌
```tsx
<Button style={{ background: '#722ed1' }}>
  点击
</Button>
```

### 7. 注意事项

1. 此规则适用于**所有用户端和管理端页面**
2. 规则优先级为**高**，必须严格遵守
3. 在代码审查时，需要特别检查颜色使用
4. 如有疑问，请参考本文档或咨询设计团队

---

## API开发规范

### 1. API设计原则

#### RESTful API规范
- 使用HTTP方法：GET、POST、PUT、DELETE
- 使用名词表示资源
- 使用复数形式：/users、/posts
- 使用版本号：/api/v1/

#### URL设计
```
GET    /api/v1/users          # 获取用户列表
GET    /api/v1/users/:id      # 获取用户详情
POST   /api/v1/users          # 创建用户
PUT    /api/v1/users/:id      # 更新用户
DELETE /api/v1/users/:id      # 删除用户
```

### 2. 响应格式

#### 成功响应
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "id": 1,
    "name": "用户名"
  },
  "timestamp": 1234567890
}
```

#### 错误响应
```json
{
  "code": 400,
  "message": "参数错误",
  "error": "用户名不能为空",
  "timestamp": 1234567890
}
```

### 3. 认证与授权

#### JWT认证
```typescript
// 生成Token
const token = jwt.sign(
  { userId: user.id, role: user.role },
  process.env.JWT_SECRET,
  { expiresIn: '7d' }
);

// 验证Token
const decoded = jwt.verify(token, process.env.JWT_SECRET);
```

#### 权限验证
```typescript
function checkPermission(requiredRole: string) {
  return (req, res, next) => {
    const userRole = req.user.role;
    if (userRole !== 'super_admin' && userRole !== requiredRole) {
      return res.status(403).json({ error: 'Permission denied' });
    }
    next();
  };
}
```

---

## 测试规范

### 1. 测试类型

#### 单元测试
- 测试单个函数或组件
- 使用Jest或Vitest
- 覆盖率要求：>80%

#### 集成测试
- 测试多个模块的交互
- 测试API接口
- 测试数据库操作

#### 端到端测试
- 测试完整的用户流程
- 使用Cypress或Playwright
- 覆盖核心业务流程

### 2. 测试编写规范

#### 测试命名
```typescript
describe('UserService', () => {
  describe('createUser', () => {
    it('should create a new user', async () => {
      // 测试代码
    });

    it('should throw error if email already exists', async () => {
      // 测试代码
    });
  });
});
```

#### 测试结构
- Arrange：准备测试数据
- Act：执行被测试的代码
- Assert：验证结果

### 3. 测试覆盖率

#### 覆盖率要求
- 语句覆盖率：>80%
- 分支覆盖率：>75%
- 函数覆盖率：>80%
- 行覆盖率：>80%

#### 覆盖率检查
```bash
npm run test:coverage
```

---

## 检查清单相关行为准则

**AI助手必须：**
- ✅ 为每个开发阶段提供详细的检查清单
- ✅ 确保检查清单覆盖所有关键步骤
- ✅ 使用checkbox格式，方便用户勾选
- ✅ 包含时间估算和里程碑
- ✅ 包含风险提示和应对策略
- ✅ 包含具体的工具推荐和对比
- ✅ 包含最佳实践和代码示例
- ✅ 包含详细的故障排查流程
- ✅ 包含具体的性能指标和优化目标

**AI助手禁止：**
- ❌ 检查清单不完整
- ❌ 缺少时间估算和里程碑
- ❌ 缺少风险提示和应对策略
- ❌ 缺少具体的工具推荐和对比
- ❌ 缺少最佳实践和代码示例
- ❌ 缺少详细的故障排查流程
- ❌ 缺少具体的性能指标和优化目标

---

## 模拟案例参考相关行为准则

**AI助手必须：**
- ✅ 在提供开发建议时，参考模拟开发案例中的最佳实践
- ✅ 引用模拟案例中的代码示例和配置示例
- ✅ 引用模拟案例中的问题解决方案
- ✅ 引用模拟案例中的性能优化经验
- ✅ 引用模拟案例中的成功经验和失败教训

**AI助手禁止：**
- ❌ 忽略模拟案例中的最佳实践
- ❌ 重复模拟案例中已经解决的问题
- ❌ 忽略模拟案例中的性能优化经验

---

## 环境隔离相关行为准则

**AI助手必须：**
- ✅ 帮助用户配置本地环境（使用虚拟环境venv隔离依赖）
- ✅ 推荐本地数据库使用SQLite
- ✅ 推荐本地配置使用.env.local文件
- ✅ 帮助用户配置开发环境（独立的数据库）
- ✅ 推荐开发环境配置使用.env.dev文件
- ✅ 帮助用户配置生产环境（独立的数据库）
- ✅ 推荐生产环境配置使用.env.prod文件

**AI助手禁止：**
- ❌ 本地环境与生产环境混用
- ❌ 开发环境与生产环境混用
- ❌ 生产环境随意修改和调试

---

## 监控告警相关行为准则

**AI助手必须：**
- ✅ 帮助用户选择合适的监控工具
- ✅ 配置全面的监控指标（系统、应用、业务）
- ✅ 设置合理的告警阈值
- ✅ 配置多级告警机制
- ✅ 建立告警处理流程
- ✅ 配置告警升级机制
- ✅ 定期检查和优化监控配置
- ✅ 提供监控数据的可视化
- ✅ 建立监控数据的长期存储
- ✅ 配置监控数据的备份

**AI助手禁止：**
- ❌ 监控指标不全
- ❌ 告警阈值设置不合理
- ❌ 缺少告警处理流程
- ❌ 忽略监控数据的可视化
- ❌ 忽略监控数据的备份

---

## AI提示词使用相关行为准则

**AI助手必须：**
- ✅ 为不同开发阶段提供专门的AI提示词
- ✅ 确保AI提示词针对性强、效果明确
- ✅ 提供AI提示词的使用指南和最佳实践
- ✅ 定期更新和优化AI提示词
- ✅ 收集AI提示词使用反馈，持续改进
- ✅ 建立AI提示词库，方便查找和使用
- ✅ 为AI提示词添加分类和标签
- ✅ 提供AI提示词的效果评估方法

**AI助手禁止：**
- ❌ 提供模糊、不具体的AI提示词
- ❌ 忽略AI提示词的使用指南
- ❌ 不收集AI提示词使用反馈
- ❌ AI提示词库管理混乱
- ❌ 不评估AI提示词效果

---

## 最佳实践

### 代码管理最佳实践

1. **Git工作流**
   - 使用feature分支进行功能开发
   - 定期合并到dev分支进行集成测试
   - 通过PR合并到main分支
   - 使用有意义的commit message

2. **代码质量**
   - 遵循语言特定的代码规范
   - 编写清晰的注释和文档
   - 进行代码审查
   - 使用静态代码分析工具

3. **测试策略**
   - 编写单元测试
   - 进行集成测试
   - 实施端到端测试
   - 保持测试覆盖率

### 文档管理最佳实践

1. **文档组织**
   - 按项目阶段分类文档
   - 使用一致的命名规范
   - 保持文档结构清晰
   - 定期更新文档

2. **文档内容**
   - 包含必要的上下文信息
   - 提供具体的示例
   - 使用图表和表格增强可读性
   - 记录决策过程和原因

### 开发流程最佳实践

1. **需求管理**
   - 明确需求优先级
   - 定义验收标准
   - 跟踪需求变更
   - 定期回顾需求

2. **项目管理**
   - 使用敏捷开发方法
   - 定期进行迭代回顾
   - 保持沟通透明
   - 及时调整计划

### 安全最佳实践

1. **代码安全**
   - 输入验证和输出编码
   - 使用安全的认证和授权
   - 定期进行安全审计
   - 及时修复安全漏洞

2. **数据安全**
   - 加密敏感数据
   - 实施访问控制
   - 定期备份数据
   - 遵循数据保护法规

### 性能优化最佳实践

1. **前端优化**
   - 优化资源加载
   - 使用缓存策略
   - 减少HTTP请求
   - 优化图片和媒体

2. **后端优化**
   - 优化数据库查询
   - 使用缓存机制
   - 实施异步处理
   - 优化算法和数据结构

---

**最后更新**: 2026-01-16
**维护人**: AI助手团队
